var Xn=Object.defineProperty,Zn=Object.defineProperties;var Qn=Object.getOwnPropertyDescriptors;var pr=Object.getOwnPropertySymbols;var to=Object.prototype.hasOwnProperty,eo=Object.prototype.propertyIsEnumerable;var dr=(e,t,r)=>t in e?Xn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_t=(e,t)=>{for(var r in t||(t={}))to.call(t,r)&&dr(e,r,t[r]);if(pr)for(var r of pr(t))eo.call(t,r)&&dr(e,r,t[r]);return e},bt=(e,t)=>Zn(e,Qn(t));const ro=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}};ro();var mt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function we(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),t}var pt={},zr={},st={},Kr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){var n,o=r.Symbol;if(typeof o=="function")if(o.observable)n=o.observable;else{n=o.for("https://github.com/benlesh/symbol-observable");try{o.observable=n}catch{}}else n="@@observable";return n}})(Kr);var no=Kr,hr=Object.prototype.toString,Jr=function(t){var r=hr.call(t),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&hr.call(t.callee)==="[object Function]"),n},Yr;if(!Object.keys){var ue=Object.prototype.hasOwnProperty,vr=Object.prototype.toString,oo=Jr,yr=Object.prototype.propertyIsEnumerable,io=!yr.call({toString:null},"toString"),ao=yr.call(function(){},"prototype"),le=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],$e=function(e){var t=e.constructor;return t&&t.prototype===e},so={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},uo=function(){if(typeof window=="undefined")return!1;for(var e in window)try{if(!so["$"+e]&&ue.call(window,e)&&window[e]!==null&&typeof window[e]=="object")try{$e(window[e])}catch{return!0}}catch{return!0}return!1}(),lo=function(e){if(typeof window=="undefined"||!uo)return $e(e);try{return $e(e)}catch{return!1}};Yr=function(t){var r=t!==null&&typeof t=="object",n=vr.call(t)==="[object Function]",o=oo(t),i=r&&vr.call(t)==="[object String]",a=[];if(!r&&!n&&!o)throw new TypeError("Object.keys called on a non-object");var s=ao&&n;if(i&&t.length>0&&!ue.call(t,0))for(var f=0;f<t.length;++f)a.push(String(f));if(o&&t.length>0)for(var y=0;y<t.length;++y)a.push(String(y));else for(var w in t)!(s&&w==="prototype")&&ue.call(t,w)&&a.push(String(w));if(io)for(var g=lo(t),O=0;O<le.length;++O)!(g&&le[O]==="constructor")&&ue.call(t,le[O])&&a.push(le[O]);return a}}var co=Yr,fo=Array.prototype.slice,po=Jr,mr=Object.keys,fe=mr?function(t){return mr(t)}:co,gr=Object.keys;fe.shim=function(){if(Object.keys){var t=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);t||(Object.keys=function(n){return po(n)?gr(fo.call(n)):gr(n)})}else Object.keys=fe;return Object.keys||fe};var ho=fe,vo=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;t[r]=o;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,r);if(a.value!==o||a.enumerable!==!0)return!1}return!0},_r=typeof Symbol!="undefined"&&Symbol,yo=vo,mo=function(){return typeof _r!="function"||typeof Symbol!="function"||typeof _r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:yo()},go="Function.prototype.bind called on incompatible ",Ie=Array.prototype.slice,_o=Object.prototype.toString,bo="[object Function]",wo=function(t){var r=this;if(typeof r!="function"||_o.call(r)!==bo)throw new TypeError(go+r);for(var n=Ie.call(arguments,1),o,i=function(){if(this instanceof o){var w=r.apply(this,n.concat(Ie.call(arguments)));return Object(w)===w?w:this}else return r.apply(t,n.concat(Ie.call(arguments)))},a=Math.max(0,r.length-n.length),s=[],f=0;f<a;f++)s.push("$"+f);if(o=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var y=function(){};y.prototype=r.prototype,o.prototype=new y,y.prototype=null}return o},So=wo,Vr=Function.prototype.bind||So,Oo=Vr,Ao=Oo.call(Function.call,Object.prototype.hasOwnProperty),z,ie=SyntaxError,Xr=Function,Kt=TypeError,Me=function(e){try{return Xr('"use strict"; return ('+e+").constructor;")()}catch{}},qt=Object.getOwnPropertyDescriptor;if(qt)try{qt({},"")}catch{qt=null}var Te=function(){throw new Kt},Eo=qt?function(){try{return arguments.callee,Te}catch{try{return qt(arguments,"callee").get}catch{return Te}}}():Te,Ht=mo(),$t=Object.getPrototypeOf||function(e){return e.__proto__},zt={},Po=typeof Uint8Array=="undefined"?z:$t(Uint8Array),Jt={"%AggregateError%":typeof AggregateError=="undefined"?z:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?z:ArrayBuffer,"%ArrayIteratorPrototype%":Ht?$t([][Symbol.iterator]()):z,"%AsyncFromSyncIteratorPrototype%":z,"%AsyncFunction%":zt,"%AsyncGenerator%":zt,"%AsyncGeneratorFunction%":zt,"%AsyncIteratorPrototype%":zt,"%Atomics%":typeof Atomics=="undefined"?z:Atomics,"%BigInt%":typeof BigInt=="undefined"?z:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?z:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?z:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?z:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?z:FinalizationRegistry,"%Function%":Xr,"%GeneratorFunction%":zt,"%Int8Array%":typeof Int8Array=="undefined"?z:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?z:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?z:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ht?$t($t([][Symbol.iterator]())):z,"%JSON%":typeof JSON=="object"?JSON:z,"%Map%":typeof Map=="undefined"?z:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!Ht?z:$t(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?z:Promise,"%Proxy%":typeof Proxy=="undefined"?z:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?z:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?z:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!Ht?z:$t(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?z:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ht?$t(""[Symbol.iterator]()):z,"%Symbol%":Ht?Symbol:z,"%SyntaxError%":ie,"%ThrowTypeError%":Eo,"%TypedArray%":Po,"%TypeError%":Kt,"%Uint8Array%":typeof Uint8Array=="undefined"?z:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?z:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?z:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?z:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?z:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?z:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?z:WeakSet},No=function e(t){var r;if(t==="%AsyncFunction%")r=Me("async function () {}");else if(t==="%GeneratorFunction%")r=Me("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Me("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&(r=$t(o.prototype))}return Jt[t]=r,r},br={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Se=Vr,ye=Ao,Co=Se.call(Function.call,Array.prototype.concat),$o=Se.call(Function.apply,Array.prototype.splice),wr=Se.call(Function.call,String.prototype.replace),me=Se.call(Function.call,String.prototype.slice),Io=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Mo=/\\(\\)?/g,To=function(t){var r=me(t,0,1),n=me(t,-1);if(r==="%"&&n!=="%")throw new ie("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ie("invalid intrinsic syntax, expected opening `%`");var o=[];return wr(t,Io,function(i,a,s,f){o[o.length]=s?wr(f,Mo,"$1"):a||i}),o},Do=function(t,r){var n=t,o;if(ye(br,n)&&(o=br[n],n="%"+o[0]+"%"),ye(Jt,n)){var i=Jt[n];if(i===zt&&(i=No(n)),typeof i=="undefined"&&!r)throw new Kt("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new ie("intrinsic "+t+" does not exist!")},ko=function(t,r){if(typeof t!="string"||t.length===0)throw new Kt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Kt('"allowMissing" argument must be a boolean');var n=To(t),o=n.length>0?n[0]:"",i=Do("%"+o+"%",r),a=i.name,s=i.value,f=!1,y=i.alias;y&&(o=y[0],$o(n,Co([0,1],y)));for(var w=1,g=!0;w<n.length;w+=1){var O=n[w],_=me(O,0,1),l=me(O,-1);if((_==='"'||_==="'"||_==="`"||l==='"'||l==="'"||l==="`")&&_!==l)throw new ie("property names with quotes must have matching quotes");if((O==="constructor"||!g)&&(f=!0),o+="."+O,a="%"+o+"%",ye(Jt,a))s=Jt[a];else if(s!=null){if(!(O in s)){if(!r)throw new Kt("base intrinsic for "+t+" exists, but the property is not available.");return}if(qt&&w+1>=n.length){var u=qt(s,O);g=!!u,g&&"get"in u&&!("originalValue"in u.get)?s=u.get:s=s[O]}else g=ye(s,O),s=s[O];g&&!f&&(Jt[a]=s)}}return s},xo=ko,Be=xo("%Object.defineProperty%",!0),qe=function(){if(Be)try{return Be({},"a",{value:1}),!0}catch{return!1}return!1};qe.hasArrayLengthDefineBug=function(){if(!qe())return null;try{return Be([],"length",{value:1}).length!==1}catch{return!0}};var jo=qe,Ro=ho,Lo=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Fo=Object.prototype.toString,Bo=Array.prototype.concat,Zr=Object.defineProperty,qo=function(e){return typeof e=="function"&&Fo.call(e)==="[object Function]"},Wo=jo(),Qr=Zr&&Wo,Uo=function(e,t,r,n){t in e&&(!qo(n)||!n())||(Qr?Zr(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},tn=function(e,t){var r=arguments.length>2?arguments[2]:{},n=Ro(t);Lo&&(n=Bo.call(n,Object.getOwnPropertySymbols(t)));for(var o=0;o<n.length;o+=1)Uo(e,n[o],t[n[o]],r[n[o]])};tn.supportsDescriptors=!!Qr;var en=tn,ne={exports:{}};typeof self!="undefined"?ne.exports=self:typeof window!="undefined"?ne.exports=window:ne.exports=Function("return this")();var Go=ne.exports,rn=function(){return typeof mt!="object"||!mt||mt.Math!==Math||mt.Array!==Array?Go:mt},Ho=en,zo=rn,Ko=function(){var t=zo();if(Ho.supportsDescriptors){var r=Object.getOwnPropertyDescriptor(t,"globalThis");(!r||r.configurable&&(r.enumerable||!r.writable||globalThis!==t))&&Object.defineProperty(t,"globalThis",{configurable:!0,enumerable:!1,value:t,writable:!0})}else(typeof globalThis!="object"||globalThis!==t)&&(t.globalThis=t);return t},Jo=en,Yo=ne.exports,nn=rn,Vo=Ko,Xo=nn(),on=function(){return Xo};Jo(on,{getPolyfill:nn,implementation:Yo,shim:Vo});var Zo=on,Qo=mt&&mt.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(st,"__esModule",{value:!0});st.NO_IL=Je=st.NO=st.MemoryStream=Oe=st.Stream=void 0;var ti=no,ei=Zo,ce=ti.default(ei.getPolyfill()),C={},Je=st.NO=C;function dt(){}function pe(e){for(var t=e.length,r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function ri(e,t){return function(n){return e(n)&&t(n)}}function Ye(e,t,r){try{return e.f(t)}catch(n){return r._e(n),C}}var Bt={_n:dt,_e:dt,_c:dt};st.NO_IL=Bt;function Sr(e){e._start=function(r){r.next=r._n,r.error=r._e,r.complete=r._c,this.start(r)},e._stop=e.stop}var ni=function(){function e(t,r){this._stream=t,this._listener=r}return e.prototype.unsubscribe=function(){this._stream._remove(this._listener)},e}(),oi=function(){function e(t){this._listener=t}return e.prototype.next=function(t){this._listener._n(t)},e.prototype.error=function(t){this._listener._e(t)},e.prototype.complete=function(){this._listener._c()},e}(),ii=function(){function e(t){this.type="fromObservable",this.ins=t,this.active=!1}return e.prototype._start=function(t){this.out=t,this.active=!0,this._sub=this.ins.subscribe(new oi(t)),this.active||this._sub.unsubscribe()},e.prototype._stop=function(){this._sub&&this._sub.unsubscribe(),this.active=!1},e}(),ai=function(){function e(t){this.type="merge",this.insArr=t,this.out=C,this.ac=0}return e.prototype._start=function(t){this.out=t;var r=this.insArr,n=r.length;this.ac=n;for(var o=0;o<n;o++)r[o]._add(this)},e.prototype._stop=function(){for(var t=this.insArr,r=t.length,n=0;n<r;n++)t[n]._remove(this);this.out=C},e.prototype._n=function(t){var r=this.out;r!==C&&r._n(t)},e.prototype._e=function(t){var r=this.out;r!==C&&r._e(t)},e.prototype._c=function(){if(--this.ac<=0){var t=this.out;if(t===C)return;t._c()}},e}(),si=function(){function e(t,r,n){this.i=t,this.out=r,this.p=n,n.ils.push(this)}return e.prototype._n=function(t){var r=this.p,n=this.out;if(n!==C&&r.up(t,this.i)){var o=pe(r.vals);n._n(o)}},e.prototype._e=function(t){var r=this.out;r!==C&&r._e(t)},e.prototype._c=function(){var t=this.p;t.out!==C&&--t.Nc===0&&t.out._c()},e}(),ui=function(){function e(t){this.type="combine",this.insArr=t,this.out=C,this.ils=[],this.Nc=this.Nn=0,this.vals=[]}return e.prototype.up=function(t,r){var n=this.vals[r],o=this.Nn?n===C?--this.Nn:this.Nn:0;return this.vals[r]=t,o===0},e.prototype._start=function(t){this.out=t;var r=this.insArr,n=this.Nc=this.Nn=r.length,o=this.vals=new Array(n);if(n===0)t._n([]),t._c();else for(var i=0;i<n;i++)o[i]=C,r[i]._add(new si(i,t,this))},e.prototype._stop=function(){for(var t=this.insArr,r=t.length,n=this.ils,o=0;o<r;o++)t[o]._remove(n[o]);this.out=C,this.ils=[],this.vals=[]},e}(),li=function(){function e(t){this.type="fromArray",this.a=t}return e.prototype._start=function(t){for(var r=this.a,n=0,o=r.length;n<o;n++)t._n(r[n]);t._c()},e.prototype._stop=function(){},e}(),ci=function(){function e(t){this.type="fromPromise",this.on=!1,this.p=t}return e.prototype._start=function(t){var r=this;this.on=!0,this.p.then(function(n){r.on&&(t._n(n),t._c())},function(n){t._e(n)}).then(dt,function(n){setTimeout(function(){throw n})})},e.prototype._stop=function(){this.on=!1},e}(),fi=function(){function e(t){this.type="periodic",this.period=t,this.intervalID=-1,this.i=0}return e.prototype._start=function(t){var r=this;function n(){t._n(r.i++)}this.intervalID=setInterval(n,this.period)},e.prototype._stop=function(){this.intervalID!==-1&&clearInterval(this.intervalID),this.intervalID=-1,this.i=0},e}(),pi=function(){function e(t,r){this.type="debug",this.ins=t,this.out=C,this.s=dt,this.l="",typeof r=="string"?this.l=r:typeof r=="function"&&(this.s=r)}return e.prototype._start=function(t){this.out=t,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=C},e.prototype._n=function(t){var r=this.out;if(r!==C){var n=this.s,o=this.l;if(n!==dt)try{n(t)}catch(i){r._e(i)}else o?console.log(o+":",t):console.log(t);r._n(t)}},e.prototype._e=function(t){var r=this.out;r!==C&&r._e(t)},e.prototype._c=function(){var t=this.out;t!==C&&t._c()},e}(),di=function(){function e(t,r){this.type="drop",this.ins=r,this.out=C,this.max=t,this.dropped=0}return e.prototype._start=function(t){this.out=t,this.dropped=0,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=C},e.prototype._n=function(t){var r=this.out;r!==C&&this.dropped++>=this.max&&r._n(t)},e.prototype._e=function(t){var r=this.out;r!==C&&r._e(t)},e.prototype._c=function(){var t=this.out;t!==C&&t._c()},e}(),hi=function(){function e(t,r){this.out=t,this.op=r}return e.prototype._n=function(){this.op.end()},e.prototype._e=function(t){this.out._e(t)},e.prototype._c=function(){this.op.end()},e}(),vi=function(){function e(t,r){this.type="endWhen",this.ins=r,this.out=C,this.o=t,this.oil=Bt}return e.prototype._start=function(t){this.out=t,this.o._add(this.oil=new hi(t,this)),this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.o._remove(this.oil),this.out=C,this.oil=Bt},e.prototype.end=function(){var t=this.out;t!==C&&t._c()},e.prototype._n=function(t){var r=this.out;r!==C&&r._n(t)},e.prototype._e=function(t){var r=this.out;r!==C&&r._e(t)},e.prototype._c=function(){this.end()},e}(),De=function(){function e(t,r){this.type="filter",this.ins=r,this.out=C,this.f=t}return e.prototype._start=function(t){this.out=t,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=C},e.prototype._n=function(t){var r=this.out;if(r!==C){var n=Ye(this,t,r);n===C||!n||r._n(t)}},e.prototype._e=function(t){var r=this.out;r!==C&&r._e(t)},e.prototype._c=function(){var t=this.out;t!==C&&t._c()},e}(),yi=function(){function e(t,r){this.out=t,this.op=r}return e.prototype._n=function(t){this.out._n(t)},e.prototype._e=function(t){this.out._e(t)},e.prototype._c=function(){this.op.inner=C,this.op.less()},e}(),mi=function(){function e(t){this.type="flatten",this.ins=t,this.out=C,this.open=!0,this.inner=C,this.il=Bt}return e.prototype._start=function(t){this.out=t,this.open=!0,this.inner=C,this.il=Bt,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.inner!==C&&this.inner._remove(this.il),this.out=C,this.open=!0,this.inner=C,this.il=Bt},e.prototype.less=function(){var t=this.out;t!==C&&!this.open&&this.inner===C&&t._c()},e.prototype._n=function(t){var r=this.out;if(r!==C){var n=this,o=n.inner,i=n.il;o!==C&&i!==Bt&&o._remove(i),(this.inner=t)._add(this.il=new yi(r,this))}},e.prototype._e=function(t){var r=this.out;r!==C&&r._e(t)},e.prototype._c=function(){this.open=!1,this.less()},e}(),gi=function(){function e(t,r,n){var o=this;this.type="fold",this.ins=n,this.out=C,this.f=function(i){return t(o.acc,i)},this.acc=this.seed=r}return e.prototype._start=function(t){this.out=t,this.acc=this.seed,t._n(this.acc),this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=C,this.acc=this.seed},e.prototype._n=function(t){var r=this.out;if(r!==C){var n=Ye(this,t,r);n!==C&&r._n(this.acc=n)}},e.prototype._e=function(t){var r=this.out;r!==C&&r._e(t)},e.prototype._c=function(){var t=this.out;t!==C&&t._c()},e}(),_i=function(){function e(t){this.type="last",this.ins=t,this.out=C,this.has=!1,this.val=C}return e.prototype._start=function(t){this.out=t,this.has=!1,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=C,this.val=C},e.prototype._n=function(t){this.has=!0,this.val=t},e.prototype._e=function(t){var r=this.out;r!==C&&r._e(t)},e.prototype._c=function(){var t=this.out;t!==C&&(this.has?(t._n(this.val),t._c()):t._e(new Error("last() failed because input stream completed")))},e}(),bi=function(){function e(t,r){this.type="map",this.ins=r,this.out=C,this.f=t}return e.prototype._start=function(t){this.out=t,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=C},e.prototype._n=function(t){var r=this.out;if(r!==C){var n=Ye(this,t,r);n!==C&&r._n(n)}},e.prototype._e=function(t){var r=this.out;r!==C&&r._e(t)},e.prototype._c=function(){var t=this.out;t!==C&&t._c()},e}(),wi=function(){function e(t){this.type="remember",this.ins=t,this.out=C}return e.prototype._start=function(t){this.out=t,this.ins._add(t)},e.prototype._stop=function(){this.ins._remove(this.out),this.out=C},e}(),Si=function(){function e(t,r){this.type="replaceError",this.ins=r,this.out=C,this.f=t}return e.prototype._start=function(t){this.out=t,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=C},e.prototype._n=function(t){var r=this.out;r!==C&&r._n(t)},e.prototype._e=function(t){var r=this.out;if(r!==C)try{this.ins._remove(this),(this.ins=this.f(t))._add(this)}catch(n){r._e(n)}},e.prototype._c=function(){var t=this.out;t!==C&&t._c()},e}(),Oi=function(){function e(t,r){this.type="startWith",this.ins=t,this.out=C,this.val=r}return e.prototype._start=function(t){this.out=t,this.out._n(this.val),this.ins._add(t)},e.prototype._stop=function(){this.ins._remove(this.out),this.out=C},e}(),Ai=function(){function e(t,r){this.type="take",this.ins=r,this.out=C,this.max=t,this.taken=0}return e.prototype._start=function(t){this.out=t,this.taken=0,this.max<=0?t._c():this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=C},e.prototype._n=function(t){var r=this.out;if(r!==C){var n=++this.taken;n<this.max?r._n(t):n===this.max&&(r._n(t),r._c())}},e.prototype._e=function(t){var r=this.out;r!==C&&r._e(t)},e.prototype._c=function(){var t=this.out;t!==C&&t._c()},e}(),Ve=function(){function e(t){this._prod=t||C,this._ils=[],this._stopID=C,this._dl=C,this._d=!1,this._target=null,this._err=C}return e.prototype._n=function(t){var r=this._ils,n=r.length;if(this._d&&this._dl._n(t),n==1)r[0]._n(t);else{if(n==0)return;for(var o=pe(r),i=0;i<n;i++)o[i]._n(t)}},e.prototype._e=function(t){if(this._err===C){this._err=t;var r=this._ils,n=r.length;if(this._x(),this._d&&this._dl._e(t),n==1)r[0]._e(t);else{if(n==0)return;for(var o=pe(r),i=0;i<n;i++)o[i]._e(t)}if(!this._d&&n==0)throw this._err}},e.prototype._c=function(){var t=this._ils,r=t.length;if(this._x(),this._d&&this._dl._c(),r==1)t[0]._c();else{if(r==0)return;for(var n=pe(t),o=0;o<r;o++)n[o]._c()}},e.prototype._x=function(){this._ils.length!==0&&(this._prod!==C&&this._prod._stop(),this._err=C,this._ils=[])},e.prototype._stopNow=function(){this._prod._stop(),this._err=C,this._stopID=C},e.prototype._add=function(t){var r=this._target;if(r)return r._add(t);var n=this._ils;if(n.push(t),!(n.length>1))if(this._stopID!==C)clearTimeout(this._stopID),this._stopID=C;else{var o=this._prod;o!==C&&o._start(this)}},e.prototype._remove=function(t){var r=this,n=this._target;if(n)return n._remove(t);var o=this._ils,i=o.indexOf(t);i>-1&&(o.splice(i,1),this._prod!==C&&o.length<=0?(this._err=C,this._stopID=setTimeout(function(){return r._stopNow()})):o.length===1&&this._pruneCycles())},e.prototype._pruneCycles=function(){this._hasNoSinks(this,[])&&this._remove(this._ils[0])},e.prototype._hasNoSinks=function(t,r){if(r.indexOf(t)!==-1)return!0;if(t.out===this)return!0;if(t.out&&t.out!==C)return this._hasNoSinks(t.out,r.concat(t));if(t._ils){for(var n=0,o=t._ils.length;n<o;n++)if(!this._hasNoSinks(t._ils[n],r.concat(t)))return!1;return!0}else return!1},e.prototype.ctor=function(){return this instanceof Nt?Nt:e},e.prototype.addListener=function(t){t._n=t.next||dt,t._e=t.error||dt,t._c=t.complete||dt,this._add(t)},e.prototype.removeListener=function(t){this._remove(t)},e.prototype.subscribe=function(t){return this.addListener(t),new ni(this,t)},e.prototype[ce]=function(){return this},e.create=function(t){if(t){if(typeof t.start!="function"||typeof t.stop!="function")throw new Error("producer requires both start and stop functions");Sr(t)}return new e(t)},e.createWithMemory=function(t){return t&&Sr(t),new Nt(t)},e.never=function(){return new e({_start:dt,_stop:dt})},e.empty=function(){return new e({_start:function(t){t._c()},_stop:dt})},e.throw=function(t){return new e({_start:function(r){r._e(t)},_stop:dt})},e.from=function(t){if(typeof t[ce]=="function")return e.fromObservable(t);if(typeof t.then=="function")return e.fromPromise(t);if(Array.isArray(t))return e.fromArray(t);throw new TypeError("Type of input to from() must be an Array, Promise, or Observable")},e.of=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.fromArray(t)},e.fromArray=function(t){return new e(new li(t))},e.fromPromise=function(t){return new e(new ci(t))},e.fromObservable=function(t){if(t.endWhen!==void 0)return t;var r=typeof t[ce]=="function"?t[ce]():t;return new e(new ii(r))},e.periodic=function(t){return new e(new fi(t))},e.prototype._map=function(t){return new(this.ctor())(new bi(t,this))},e.prototype.map=function(t){return this._map(t)},e.prototype.mapTo=function(t){var r=this.map(function(){return t}),n=r._prod;return n.type="mapTo",r},e.prototype.filter=function(t){var r=this._prod;return r instanceof De?new e(new De(ri(r.f,t),r.ins)):new e(new De(t,this))},e.prototype.take=function(t){return new(this.ctor())(new Ai(t,this))},e.prototype.drop=function(t){return new e(new di(t,this))},e.prototype.last=function(){return new e(new _i(this))},e.prototype.startWith=function(t){return new Nt(new Oi(this,t))},e.prototype.endWhen=function(t){return new(this.ctor())(new vi(t,this))},e.prototype.fold=function(t,r){return new Nt(new gi(t,r,this))},e.prototype.replaceError=function(t){return new(this.ctor())(new Si(t,this))},e.prototype.flatten=function(){return new e(new mi(this))},e.prototype.compose=function(t){return t(this)},e.prototype.remember=function(){return new Nt(new wi(this))},e.prototype.debug=function(t){return new(this.ctor())(new pi(this,t))},e.prototype.imitate=function(t){if(t instanceof Nt)throw new Error("A MemoryStream was given to imitate(), but it only supports a Stream. Read more about this restriction here: https://github.com/staltz/xstream#faq");this._target=t;for(var r=this._ils,n=r.length,o=0;o<n;o++)t._add(r[o]);this._ils=[]},e.prototype.shamefullySendNext=function(t){this._n(t)},e.prototype.shamefullySendError=function(t){this._e(t)},e.prototype.shamefullySendComplete=function(){this._c()},e.prototype.setDebugListener=function(t){t?(this._d=!0,t._n=t.next||dt,t._e=t.error||dt,t._c=t.complete||dt,this._dl=t):(this._d=!1,this._dl=C)},e.merge=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new e(new ai(r))},e.combine=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new e(new ui(r))},e}(),Oe=st.Stream=Ve,Nt=function(e){Qo(t,e);function t(r){var n=e.call(this,r)||this;return n._has=!1,n}return t.prototype._n=function(r){this._v=r,this._has=!0,e.prototype._n.call(this,r)},t.prototype._add=function(r){var n=this._target;if(n)return n._add(r);var o=this._ils;if(o.push(r),o.length>1){this._has&&r._n(this._v);return}if(this._stopID!==C)this._has&&r._n(this._v),clearTimeout(this._stopID),this._stopID=C;else if(this._has)r._n(this._v);else{var i=this._prod;i!==C&&i._start(this)}},t.prototype._stopNow=function(){this._has=!1,e.prototype._stopNow.call(this)},t.prototype._x=function(){this._has=!1,e.prototype._x.call(this)},t.prototype.map=function(r){return this._map(r)},t.prototype.mapTo=function(r){return e.prototype.mapTo.call(this,r)},t.prototype.take=function(r){return e.prototype.take.call(this,r)},t.prototype.endWhen=function(r){return e.prototype.endWhen.call(this,r)},t.prototype.replaceError=function(r){return e.prototype.replaceError.call(this,r)},t.prototype.remember=function(){return this},t.prototype.debug=function(r){return e.prototype.debug.call(this,r)},t}(Ve);st.MemoryStream=Nt;var Ei=Ve,et=st.default=Ei,Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});function an(){var e;return typeof window!="undefined"?e=window:typeof mt!="undefined"?e=mt:e=this,e.Cyclejs=e.Cyclejs||{},e=e.Cyclejs,e.adaptStream=e.adaptStream||function(t){return t},e}function Pi(e){an().adaptStream=e}Ae.setAdapt=Pi;function Ni(e){return an().adaptStream(e)}var lt=Ae.adapt=Ni;function Ci(e,t){if(typeof e!="function")throw new Error("First argument given to isolate() must be a 'dataflowComponent' function");if(t===null)throw new Error("Second argument given to isolate() must not be null")}function $i(e,t,r){var n={};return Object.keys(e).forEach(function(o){if(typeof t=="string"){n[o]=t;return}var i=t[o];if(typeof i!="undefined"){n[o]=i;return}var a=t["*"];if(typeof a!="undefined"){n[o]=a;return}n[o]=r}),n}function Ii(e,t){var r={};for(var n in e){var o=e[n];e.hasOwnProperty(n)&&o&&t[n]!==null&&typeof o.isolateSource=="function"?r[n]=o.isolateSource(o,t[n]):e.hasOwnProperty(n)&&(r[n]=e[n])}return r}function Mi(e,t,r){var n={};for(var o in t){var i=e[o],a=t[o];t.hasOwnProperty(o)&&i&&r[o]!==null&&typeof i.isolateSink=="function"?n[o]=lt(i.isolateSink(et.fromObservable(a),r[o])):t.hasOwnProperty(o)&&(n[o]=t[o])}return n}var sn=0;function We(){return"cycle"+ ++sn}function ae(e,t){t===void 0&&(t=We()),Ci(e,t);var r=typeof t=="object"?We():"",n=typeof t=="string"||typeof t=="object"?t:t.toString();return function(i){for(var a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];var f=$i(i,n,r),y=Ii(i,f),w=e.apply(void 0,[y].concat(a)),g=Mi(i,w,f);return g}}ae.reset=function(){return sn=0};function Ti(e){return e===void 0&&(e=We()),function(t){return ae(t,e)}}var Di=Object.freeze(Object.defineProperty({__proto__:null,default:ae,toIsolated:Ti},Symbol.toStringTag,{value:"Module"})),un=we(Di),Xe={},Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.DropRepeatsOperator=void 0;var ki=st,ke={},ln=function(){function e(t,r){this.ins=t,this.type="dropRepeats",this.out=null,this.v=ke,this.isEq=r||function(n,o){return n===o}}return e.prototype._start=function(t){this.out=t,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=null,this.v=ke},e.prototype._n=function(t){var r=this.out;if(!!r){var n=this.v;n!==ke&&this.isEq(t,n)||(this.v=t,r._n(t))}},e.prototype._e=function(t){var r=this.out;!r||r._e(t)},e.prototype._c=function(){var t=this.out;!t||t._c()},e}();Vt.DropRepeatsOperator=ln;function xi(e){return e===void 0&&(e=void 0),function(r){return new ki.Stream(new ln(r,e))}}var ji=Vt.default=xi,Ue=globalThis&&globalThis.__assign||function(){return Ue=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ue.apply(this,arguments)};function Ri(e,t,r){if(r===e[t])return e;var n=parseInt(t);return typeof r=="undefined"?e.filter(function(o,i){return i!==n}):e.map(function(o,i){return i===n?r:o})}function cn(e){return typeof e=="string"||typeof e=="number"?function(r){if(typeof r!="undefined")return r[e]}:e.get}function Li(e){return typeof e=="string"||typeof e=="number"?function(r,n){var o,i;return Array.isArray(r)?Ri(r,e,n):typeof r=="undefined"?(o={},o[e]=n,o):Ue({},r,(i={},i[e]=n,i))}:e.set}function fn(e,t){return e.select(t)}function pn(e,t){var r=cn(t),n=Li(t);return e.map(function(o){return function(a){var s=r(a),f=o(s);return s===f?a:n(a,f)}})}var dn=function(){function e(t,r){this.isolateSource=fn,this.isolateSink=pn,this._stream=t.filter(function(n){return typeof n!="undefined"}).compose(ji()).remember(),this._name=r,this.stream=lt(this._stream),this._stream._isCycleSource=r}return e.prototype.select=function(t){var r=cn(t);return new e(this._stream.map(r),this._name)},e}(),Fi=function(){function e(t,r,n){this.ins=n,this.out=t,this.p=r}return e.prototype._n=function(t){this.p;var r=this.out;r!==null&&r._n(t)},e.prototype._e=function(t){var r=this.out;r!==null&&r._e(t)},e.prototype._c=function(){},e}(),Bi=function(){function e(t,r){this.type="pickMerge",this.ins=r,this.out=null,this.sel=t,this.ils=new Map,this.inst=null}return e.prototype._start=function(t){this.out=t,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this);var t=this.ils;t.forEach(function(r,n){r.ins._remove(r),r.ins=null,r.out=null,t.delete(n)}),t.clear(),this.out=null,this.ils=new Map,this.inst=null},e.prototype._n=function(t){this.inst=t;for(var r=t.arr,n=this.ils,o=this.out,i=this.sel,a=r.length,s=0;s<a;++s){var f=r[s],y=f._key,w=et.fromObservable(f[i]||et.never());n.has(y)||(n.set(y,new Fi(o,this,w)),w._add(n.get(y)))}n.forEach(function(g,O){(!t.dict.has(O)||!t.dict.get(O))&&(g.ins._remove(g),g.ins=null,g.out=null,n.delete(O))})},e.prototype._e=function(t){var r=this.out;r!==null&&r._e(t)},e.prototype._c=function(){var t=this.out;t!==null&&t._c()},e}();function qi(e){return function(r){return new Oe(new Bi(e,r))}}var Wi=function(){function e(t,r,n,o){this.key=t,this.out=r,this.p=n,this.val=Je,this.ins=o}return e.prototype._n=function(t){this.p;var r=this.out;this.val=t,r!==null&&this.p.up()},e.prototype._e=function(t){var r=this.out;r!==null&&r._e(t)},e.prototype._c=function(){},e}(),Ui=function(){function e(t,r){this.type="combine",this.ins=r,this.sel=t,this.out=null,this.ils=new Map,this.inst=null}return e.prototype._start=function(t){this.out=t,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this);var t=this.ils;t.forEach(function(r){r.ins._remove(r),r.ins=null,r.out=null,r.val=null}),t.clear(),this.out=null,this.ils=new Map,this.inst=null},e.prototype.up=function(){for(var t=this.inst.arr,r=t.length,n=this.ils,o=Array(r),i=0;i<r;++i){var a=t[i],s=a._key;if(!n.has(s))return;var f=n.get(s).val;if(f===Je)return;o[i]=f}this.out._n(o)},e.prototype._n=function(t){this.inst=t;var r=t.arr,n=this.ils,o=this.out,i=this.sel,a=t.dict,s=r.length,f=!1;if(n.forEach(function(_,l){a.has(l)||(_.ins._remove(_),_.ins=null,_.out=null,_.val=null,n.delete(l),f=!0)}),s===0){o._n([]);return}for(var y=0;y<s;++y){var w=r[y],g=w._key;if(!w[i])throw new Error("pickCombine found an undefined child sink stream");var O=et.fromObservable(w[i]);n.has(g)||(n.set(g,new Wi(g,o,this,O)),O._add(n.get(g)))}f&&this.up()},e.prototype._e=function(t){var r=this.out;r!==null&&r._e(t)},e.prototype._c=function(){var t=this.out;t!==null&&t._c()},e}();function Gi(e){return function(r){return new Oe(new Ui(e,r))}}var ge=globalThis&&globalThis.__assign||function(){return ge=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ge.apply(this,arguments)},hn=function(){function e(t){this._instances$=t}return e.prototype.pickMerge=function(t){return lt(this._instances$.compose(qi(t)))},e.prototype.pickCombine=function(t){return lt(this._instances$.compose(Gi(t)))},e}();function Hi(e){return{"*":null}}function zi(e,t){return{get:function(r){if(typeof r!="undefined"){for(var n=0,o=r.length;n<o;++n)if(""+e(r[n],n)===t)return r[n];return}},set:function(r,n){return typeof r=="undefined"?[n]:typeof n=="undefined"?r.filter(function(o,i){return""+e(o,i)!==t}):r.map(function(o,i){return""+e(o,i)===t?n:o})}}}var Ki={get:function(e){return e},set:function(e,t){return t}};function Ji(e){return function(r){var n=e.channel||"state",o=e.itemKey,i=e.itemScope||Hi,a=et.fromObservable(r[n].stream),s=a.fold(function(f,y){var w,g,O,_,l=f.dict;if(Array.isArray(y)){for(var u=Array(y.length),v=new Set,c=0,E=y.length;c<E;++c){var b=""+(o?o(y[c],c):c);if(v.add(b),l.has(b))u[c]=l.get(b);else{var A=o?zi(o,b):""+c,$=i(b),p=typeof $=="string"?(w={"*":$},w[n]=A,w):ge({},$,(g={},g[n]=A,g)),m=e.itemFactory?e.itemFactory(y[c],c):e.item,S=ae(m,p)(r);l.set(b,S),u[c]=S}u[c]._key=b}return l.forEach(function(M,T){v.has(T)||l.delete(T)}),v.clear(),{dict:l,arr:u}}else{l.clear();var b=""+(o?o(y,0):"this"),A=Ki,$=i(b),p=typeof $=="string"?(O={"*":$},O[n]=A,O):ge({},$,(_={},_[n]=A,_)),m=e.itemFactory?e.itemFactory(y,0):e.item,S=ae(m,p)(r);return l.set(b,S),{dict:l,arr:[S]}}},{dict:new Map,arr:[]});return e.collectSinks(new hn(s))}}var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});var Yi=st,Vi=function(){function e(t){this.streams=t,this.type="concat",this.out=null,this.i=0}return e.prototype._start=function(t){this.out=t,this.streams[this.i]._add(this)},e.prototype._stop=function(){var t=this.streams;this.i<t.length&&t[this.i]._remove(this),this.i=0,this.out=null},e.prototype._n=function(t){var r=this.out;!r||r._n(t)},e.prototype._e=function(t){var r=this.out;!r||r._e(t)},e.prototype._c=function(){var t=this.out;if(!!t){var r=this.streams;r[this.i]._remove(this),++this.i<r.length?r[this.i]._add(this):t._c()}},e}();function Xi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Yi.Stream(new Vi(e))}var vn=Ze.default=Xi,yn={};Object.defineProperty(yn,"__esModule",{value:!0});function Zi(){return typeof queueMicrotask!="undefined"?queueMicrotask:typeof setImmediate!="undefined"?setImmediate:typeof process!="undefined"?process.nextTick:setTimeout}var mn=yn.default=Zi,xe=mn();function Qi(e,t){return t===void 0&&(t="state"),function(n){var o=et.create(),i=o.fold(function(y,w){return w(y)},void 0).drop(1),a=n;a[t]=new dn(i,t);var s=e(a);if(s[t]){var f=vn(et.fromObservable(s[t]),et.never());f.subscribe({next:function(y){return xe(function(){return o._n(y)})},error:function(y){return xe(function(){return o._e(y)})},complete:function(){return xe(function(){return o._c()})}})}return s}}var ta=Object.freeze(Object.defineProperty({__proto__:null,StateSource:dn,isolateSource:fn,isolateSink:pn,Instances:hn,withState:Qi,makeCollection:Ji},Symbol.toStringTag,{value:"Module"})),Qe=we(ta);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=g;var t=n(un),r=Qe;function n(_){return _&&_.__esModule?_:{default:_}}function o(_,l,u){return l in _?Object.defineProperty(_,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):_[l]=u,_}function i(_,l){return w(_)||y(_,l)||s(_,l)||a()}function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(_,l){if(!!_){if(typeof _=="string")return f(_,l);var u=Object.prototype.toString.call(_).slice(8,-1);if(u==="Object"&&_.constructor&&(u=_.constructor.name),u==="Map"||u==="Set")return Array.from(_);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return f(_,l)}}function f(_,l){(l==null||l>_.length)&&(l=_.length);for(var u=0,v=new Array(l);u<l;u++)v[u]=_[u];return v}function y(_,l){var u=_==null?null:typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(u!=null){var v=[],c=!0,E=!1,b,A;try{for(u=u.call(_);!(c=(b=u.next()).done)&&(v.push(b.value),!(l&&v.length===l));c=!0);}catch($){E=!0,A=$}finally{try{!c&&u.return!=null&&u.return()}finally{if(E)throw A}}return v}}function w(_){if(Array.isArray(_))return _}function g(_,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:["DOM"],v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:["EVENTS"],c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"STATE";return function(E){var b={item:_,itemKey:function(p){return p.id},itemScope:function(p){return p},channel:c,collectSinks:function(p){return Object.entries(E).reduce(function(m,S){var M=i(S,2),T=M[0];return M[1],u.includes(T)?m[T]=p.pickCombine(T):m[T]=p.pickMerge(T),m},{})}},A=o({},c,l);return v.forEach(function($){return A[$]=null}),u.forEach(function($){return A[$]=null}),O(b,A,E)}}function O(_,l,u){return(0,t.default)((0,r.makeCollection)(_),l)(u)}})(Xe);var tr={};Object.defineProperty(tr,"__esModule",{value:!0});var ea=st,ra=function(){function e(t,r){this.dt=t,this.ins=r,this.type="delay",this.out=null}return e.prototype._start=function(t){this.out=t,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=null},e.prototype._n=function(t){var r=this.out;if(!!r)var n=setInterval(function(){r._n(t),clearInterval(n)},this.dt)},e.prototype._e=function(t){var r=this.out;if(!!r)var n=setInterval(function(){r._e(t),clearInterval(n)},this.dt)},e.prototype._c=function(){var t=this.out;if(!!t)var r=setInterval(function(){t._c(),clearInterval(r)},this.dt)},e}();function na(e){return function(r){return new ea.Stream(new ra(e,r))}}tr.default=na;var er={};Object.defineProperty(er,"__esModule",{value:!0});var ee=st,oa=function(){function e(t,r){this.dt=t,this.ins=r,this.type="debounce",this.out=null,this.id=null,this.t=ee.NO}return e.prototype._start=function(t){this.out=t,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=null,this.clearInterval()},e.prototype.clearInterval=function(){var t=this.id;t!==null&&clearInterval(t),this.id=null},e.prototype._n=function(t){var r=this,n=this.out;!n||(this.clearInterval(),this.t=t,this.id=setInterval(function(){r.clearInterval(),n._n(t),r.t=ee.NO},this.dt))},e.prototype._e=function(t){var r=this.out;!r||(this.clearInterval(),r._e(t))},e.prototype._c=function(){var t=this.out;!t||(this.clearInterval(),this.t!=ee.NO&&t._n(this.t),this.t=ee.NO,t._c())},e}();function ia(e){return function(r){return new ee.Stream(new oa(e,r))}}er.default=ia;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ABORT=void 0,e.default=It;var t=g(un),r=g(Xe),n=Qe,o=w(st),i=g(tr),a=g(Ze),s=g(er),f=g(Vt);function y(h){if(typeof WeakMap!="function")return null;var I=new WeakMap,d=new WeakMap;return(y=function(D){return D?d:I})(h)}function w(h,I){if(!I&&h&&h.__esModule)return h;if(h===null||F(h)!=="object"&&typeof h!="function")return{default:h};var d=y(I);if(d&&d.has(h))return d.get(h);var N={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in h)if(k!=="default"&&Object.prototype.hasOwnProperty.call(h,k)){var R=D?Object.getOwnPropertyDescriptor(h,k):null;R&&(R.get||R.set)?Object.defineProperty(N,k,R):N[k]=h[k]}return N.default=h,d&&d.set(h,N),N}function g(h){return h&&h.__esModule?h:{default:h}}function O(h){return u(h)||l(h)||E(h)||_()}function _(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(h){if(typeof Symbol!="undefined"&&h[Symbol.iterator]!=null||h["@@iterator"]!=null)return Array.from(h)}function u(h){if(Array.isArray(h))return b(h)}function v(h,I){return $(h)||A(h,I)||E(h,I)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(h,I){if(!!h){if(typeof h=="string")return b(h,I);var d=Object.prototype.toString.call(h).slice(8,-1);if(d==="Object"&&h.constructor&&(d=h.constructor.name),d==="Map"||d==="Set")return Array.from(h);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return b(h,I)}}function b(h,I){(I==null||I>h.length)&&(I=h.length);for(var d=0,N=new Array(I);d<I;d++)N[d]=h[d];return N}function A(h,I){var d=h==null?null:typeof Symbol!="undefined"&&h[Symbol.iterator]||h["@@iterator"];if(d!=null){var N=[],D=!0,k=!1,R,G;try{for(d=d.call(h);!(D=(R=d.next()).done)&&(N.push(R.value),!(I&&N.length===I));D=!0);}catch(x){k=!0,G=x}finally{try{!D&&d.return!=null&&d.return()}finally{if(k)throw G}}return N}}function $(h){if(Array.isArray(h))return h}function p(h,I){if(!(h instanceof I))throw new TypeError("Cannot call a class as a function")}function m(h,I){for(var d=0;d<I.length;d++){var N=I[d];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(h,N.key,N)}}function S(h,I,d){return I&&m(h.prototype,I),d&&m(h,d),Object.defineProperty(h,"prototype",{writable:!1}),h}function M(h,I){var d=Object.keys(h);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(h);I&&(N=N.filter(function(D){return Object.getOwnPropertyDescriptor(h,D).enumerable})),d.push.apply(d,N)}return d}function T(h){for(var I=1;I<arguments.length;I++){var d=arguments[I]!=null?arguments[I]:{};I%2?M(Object(d),!0).forEach(function(N){L(h,N,d[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(d)):M(Object(d)).forEach(function(N){Object.defineProperty(h,N,Object.getOwnPropertyDescriptor(d,N))})}return h}function L(h,I,d){return I in h?Object.defineProperty(h,I,{value:d,enumerable:!0,configurable:!0,writable:!0}):h[I]=d,h}function F(h){return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},F(h)}var Z=typeof window!="undefined"&&window||process&&process.env||{},H="request",ct="BOOTSTRAP",it="INITIALIZE",ft="HYDRATE",vt=!0,gt="~#~#~ABORT~#~#~";e.ABORT=gt;function It(h){var I=h.name,d=h.sources,N=h.isolateOpts,D=h.stateSourceName,k=D===void 0?"STATE":D;if(d&&F(d)!=="object")throw new Error("Sources must be a Cycle.js sources object:",I);var R;typeof N=="string"?R=L({},k,N):N===!0?R={}:R=N;var G=typeof d=="undefined";if(F(R)=="object"){var x=function(q){var j=T(T({},h),{},{sources:q});return new Ot(j).sinks};return G?(0,t.default)(x,R):(0,t.default)(x,R)(d)}else return G?function(B){return new Ot(T(T({},h),{},{sources:B})).sinks}:new Ot(h).sinks}var Ot=function(){function h(I){var d=this,N=I.name,D=N===void 0?"NO NAME":N,k=I.sources,R=I.intent,G=I.request,x=I.model,B=I.response,q=I.view,j=I.children,W=j===void 0?{}:j,U=I.components,Y=U===void 0?{}:U,rt=I.initialState,ot=I.calculated,nt=I.storeCalculatedInState,K=nt===void 0?!0:nt,Q=I.DOMSourceName,tt=Q===void 0?"DOM":Q,J=I.stateSourceName,at=J===void 0?"STATE":J,ut=I.requestSourceName,V=ut===void 0?"HTTP":ut;if(p(this,h),!k||F(k)!="object")throw new Error("Missing or invalid sources");this.name=D,this.sources=k,this.intent=R,this.request=G,this.model=x,this.response=B,this.view=q,this.children=W,this.components=Y,this.initialState=rt,this.calculated=ot,this.storeCalculatedInState=K,this.DOMSourceName=tt,this.stateSourceName=at,this.requestSourceName=V,this.sourceNames=Object.keys(k),this.isSubComponent=this.sourceNames.includes("props$");var yt=k[at]&&k[at].stream;yt&&(this.currentState=rt||{},this.sources[this.stateSourceName]=new n.StateSource(yt.map(function(At){return d.currentState=At,At}))),vt&&typeof this.intent=="undefined"&&typeof this.model=="undefined"&&(this.initialState=rt||!0,this.intent=function(At){return{__NOOP_ACTION__:o.default.never()}},this.model={__NOOP_ACTION__:function(Wt){return Wt}}),vt=!1,this.log=Xt(D),this.initIntent$(),this.initAction$(),this.initResponse$(),this.initState(),this.initModel$(),this.initSendResponse$(),this.initChildren$(),this.initSubComponentSink$(),this.initVdom$(),this.initSinks()}return S(h,[{key:"initIntent$",value:function(){if(!!this.intent){if(typeof this.intent!="function")throw new Error("Intent must be a function");if(this.intent$=this.intent(this.sources),!(this.intent$ instanceof o.Stream)&&F(this.intent$)!="object")throw new Error("Intent must return either an action$ stream or map of event streams")}}},{key:"initAction$",value:function(){var d=this.sources&&this.sources[this.requestSourceName]||null;if(!this.intent$){this.action$=o.default.never();return}var N;if(this.intent$ instanceof o.Stream)N=this.intent$;else{var D=Object.entries(this.intent$).map(function(B){var q=v(B,2),j=q[0],W=q[1];return W.map(function(U){return{type:j,data:U}})});N=o.default.merge.apply(o.default,[o.default.never()].concat(O(D)))}var k=N instanceof o.Stream?N:N.apply&&N(this.sources)||o.default.never(),R=(0,a.default)(o.default.of({type:ct}),k).compose((0,i.default)(10)),G;d&&typeof d.select=="function"?G=d.select("initial").flatten():G=o.default.never();var x=G.map(function(B){return{type:ft,data:B}});this.action$=o.default.merge(R,x).compose(this.log(function(B){var q=B.type;return"Action triggered: <".concat(q,">")}))}},{key:"initResponse$",value:function(){var d=this;if(typeof this.request!="undefined"){if(F(this.request)!="object")throw new Error("The request parameter must be an object");var N=this.sources[this.requestSourceName],D=Object.entries(this.request),k=D.reduce(function(R,G){var x=v(G,2),B=x[0],q=x[1],j=B.toLowerCase();if(typeof N[j]!="function")throw new Error("Invalid method in request object:",B);var W=Object.entries(q),U=W.reduce(function(rt,ot){var nt=v(ot,2),K=nt[0],Q=nt[1],tt="[".concat(j.toUpperCase(),"]:").concat(K||"none"),J=F(Q);if(J==="undefined")throw new Error("Action for '".concat(K,"' route in request object not specified"));if(J!=="string"&&J!=="function")throw new Error("Invalid action for '".concat(K,"' route: expecting string or function"));var at=J==="function"?"[ FUNCTION ]":"< ".concat(Q," >");console.log("[".concat(d.name,"] Adding ").concat(d.requestSourceName," route:"),j.toUpperCase(),"'".concat(K,"' <").concat(at,">"));var ut=N[j](K).compose((0,f.default)(function(V,yt){return V.id==yt.id})).map(function(V){if(!V||!V.id)throw new Error("No id found in request: ".concat(tt));try{var yt=V.id,At=V.params,Wt=V.body,Pe=V.cookies,Ut=J==="function"?"FUNCTION":Q,lr={params:At,body:Wt,cookies:Pe,req:V},Pt={type:Ut,data:Wt,req:V,_reqId:yt,_action:Ut},Zt=new Date().toISOString(),Mt=V.get?V.get("host"):"0.0.0.0";if(console.log("".concat(Zt," ").concat(Mt," ").concat(V.method," ").concat(V.url)),Z.DEBUG&&d.action$.setDebugListener({next:function(Et){var Gt=Et.type;return console.log("[".concat(d.name,"] Action from ").concat(d.requestSourceName," request: <").concat(Gt,">"))}}),J==="function"){var Tt=d.addCalculated(d.currentState),Dt=Q(Tt,V);return o.default.of(T(T({},Pt),{},{data:Dt}))}else{d.action$.shamefullySendNext(Pt);var Ne=Object.entries(d.sources),Ce=Ne.reduce(function(kt,Et){var Gt=v(Et,2),cr=Gt[0],Qt=Gt[1];if(!Qt||typeof Qt[H]!="function")return kt;var xt=Qt[H](yt);return[].concat(O(kt),[xt])},[]);return o.default.merge.apply(o.default,O(Ce))}}catch(kt){console.error(kt)}}).flatten();return[].concat(O(rt),[ut])},[]),Y=o.default.merge.apply(o.default,O(U));return[].concat(O(R),[Y])},[]);if(this.response$=o.default.merge.apply(o.default,O(k)).compose(this.log(function(R){return R._action?"[".concat(d.requestSourceName,"] response data received for Action: <").concat(R._action,">"):"[".concat(d.requestSourceName,"] response data received from FUNCTION")})),typeof this.response!="undefined"&&typeof this.response$=="undefined")throw new Error("Cannot have a response parameter without a request parameter")}}},{key:"initState",value:function(){var d=this;this.model!=null&&(this.model[it]===void 0?this.model[it]=L({},this.stateSourceName,function(N,D){return T({},d.addCalculated(D))}):Object.keys(this.model[it]).forEach(function(N){N!==d.stateSourceName&&(console.warn("".concat(it," can only be used with the ").concat(d.stateSourceName," source... disregarding ").concat(N)),delete d.model[it][N])}))}},{key:"initModel$",value:function(){var d=this;if(typeof this.model=="undefined"){this.model$=this.sourceNames.reduce(function(q,j){return q[j]=o.default.never(),q},{});return}var N={type:it,data:this.initialState},D=this.initialState?(0,a.default)(o.default.of(N),this.action$).compose((0,i.default)(0)):this.action$,k=this.makeOnAction(D,!0,this.action$),R=this.makeOnAction(this.action$,!1,this.action$),G=Object.entries(this.model),x={};G.forEach(function(q){var j=v(q,2),W=j[0],U=j[1];if(typeof U=="function"&&(U=L({},d.stateSourceName,U)),F(U)!=="object")throw new Error("Entry for each action must be an object: ".concat(d.name," ").concat(W));var Y=Object.entries(U);Y.forEach(function(rt){var ot=v(rt,2),nt=ot[0],K=ot[1],Q=nt==d.stateSourceName,tt=Q?k:R,J=tt(W,K),at=J.compose(d.log(function(ut){if(Q)return"State reducer added: <".concat(W,">");var V=ut&&(ut.type||ut.command||ut.name||ut.key||Array.isArray(ut)&&"Array"||ut);return"Data sent to [".concat(nt,"]: <").concat(W,"> ").concat(V)}));Array.isArray(x[nt])?x[nt].push(at):x[nt]=[at]})});var B=Object.entries(x).reduce(function(q,j){var W=v(j,2),U=W[0],Y=W[1];return q[U]=o.default.merge.apply(o.default,[o.default.never()].concat(O(Y))),q},{});this.model$=B}},{key:"initSendResponse$",value:function(){var d=this,N=F(this.response);if(N!="function"&&N!="undefined")throw new Error("The response parameter must be a function");if(N=="undefined"){this.response$&&this.response$.subscribe({next:this.log(function(x){var B=x._reqId,q=x._action;return"Unhandled response for request: ".concat(q," ").concat(B)})}),this.sendResponse$=o.default.never();return}var D={select:function(B){return typeof B=="undefined"?d.response$:(Array.isArray(B)||(B=[B]),d.response$.filter(function(q){var j=q._action;return B.length>0?j==="FUNCTION"||B.includes(j):!0}))}},k=this.response(D);if(F(k)!="object")throw new Error("The response function must return an object");var R=Object.entries(k),G=R.reduce(function(x,B){var q=v(B,2),j=q[0],W=q[1],U=W.map(function(Y){var rt=Y._reqId,ot=Y._action,nt=Y.data;if(!rt)throw new Error("No request id found for response for: ".concat(j));return{_reqId:rt,_action:ot,command:j,data:nt}});return[].concat(O(x),[U])},[]);this.sendResponse$=o.default.merge.apply(o.default,O(G)).compose(this.log(function(x){x._reqId;var B=x._action;return"[".concat(d.requestSourceName,"] response sent for: <").concat(B,">")}))}},{key:"initChildren$",value:function(){var d=this,N=this.sourceNames.reduce(function(D,k){return k==d.DOMSourceName?D[k]={}:D[k]=[],D},{});this.children$=Object.entries(this.children).reduce(function(D,k){var R=v(k,2),G=R[0],x=R[1],B=x(d.sources);return d.sourceNames.forEach(function(q){q==d.DOMSourceName?D[q][G]=B[q]:D[q].push(B[q])}),D},N)}},{key:"initSubComponentSink$",value:function(){var d=this,N=o.default.create({start:function(k){d.newSubComponentSinks=k.next.bind(k)},stop:function(k){}});N.subscribe({next:function(k){return k}}),this.subComponentSink$=N.filter(function(D){return Object.keys(D).length>0})}},{key:"initVdom$",value:function(){var d=this;if(typeof this.view!="function"){this.vdom$=o.default.of(null);return}var N=this.sources[this.stateSourceName],D=T({},this.children$[this.DOMSourceName]),k=N&&N.isolateSource(N,{get:function(W){return d.addCalculated(W)}}),R=k&&k.stream||o.default.never();D.state=R,D[this.stateSourceName]=R,this.sources.props$&&(D.props=this.sources.props$),this.sources.children$&&(D.children=this.sources.children$);var G=Object.entries(D).reduce(function(j,W){var U=v(W,2),Y=U[0],rt=U[1];return j.names.push(Y),j.streams.push(rt),j},{names:[],streams:[]}),x=o.default.combine.apply(o.default,O(G.streams)),B=x.compose((0,s.default)(1)).map(function(j){return G.names.reduce(function(W,U,Y){return W[U]=j[Y],W},{})}),q=Object.keys(this.components);this.vdom$=B.fold(function(j,W){var U=d.view(W)||{sel:"div",data:{},children:[]},Y=ar(U,q),rt=Object.entries(Y),ot={"::ROOT::":U};if(rt.length===0)return ot;var nt=rt.reduce(function(K,Q){var tt=v(Q,2),J=tt[0],at=tt[1],ut=at.sel,V=at.data,yt=V.props||{},At=at.children||[],Wt=V.isCollection||!1,Pe=V.isSwitchable||!1;if(j[J]){var Ut=j[J];return K[J]=Ut,Ut.props$.shamefullySendNext(yt),Ut.children$.shamefullySendNext(At),K}var lr=d.components[ut],Pt=o.default.create().startWith(yt),Zt=o.default.create().startWith(At),Mt,Tt;if(Wt){var Dt;Mt=new n.StateSource(Pt.map(function(xt){return xt.value}).remember());var Ne=T(T({},d.sources),{},(Dt={},L(Dt,d.stateSourceName,Mt),L(Dt,"props$",Pt),L(Dt,"children$",Zt),Dt)),Ce=d.components[V.component],kt={get:function(jt){return jt},set:function(jt){return jt}};Tt=(0,r.default)(Ce,kt)(Ne)}else if(!Pe){var Et,Gt=function(jt){var se=jt.state;if(typeof se=="undefined")return jt;if(F(se)!=="object")return se;var fr=T({},jt);return delete fr.state,T(T({},fr),se)};Mt=new n.StateSource(Pt.map(Gt));var cr=T(T({},d.sources),{},(Et={},L(Et,d.stateSourceName,Mt),L(Et,"props$",Pt),L(Et,"children$",Zt),Et));Tt=lr(cr)}var Qt=Tt[d.DOMSourceName];return Tt[d.DOMSourceName]=Mt.stream.map(function(xt){return Qt.compose((0,s.default)(2))}).flatten(),K[J]={sink$:Tt,props$:Pt,children$:Zt},K},ot);return nt},{}).map(function(j){var W=j["::ROOT::"],U=[],Y=Object.entries(j).filter(function(K){var Q=v(K,1),tt=Q[0];return tt!=="::ROOT::"});if(Y.length===0)return o.default.of(W);var rt=Y.reduce(function(K,Q){var tt=v(Q,2);tt[0];var J=tt[1];return Object.entries(J.sink$).forEach(function(at){var ut=v(at,2),V=ut[0],yt=ut[1];K[V]||(K[V]=[]),V!==d.DOMSourceName&&K[V].push(yt)}),K},{}),ot=Object.entries(rt).reduce(function(K,Q){var tt=v(Q,2),J=tt[0],at=tt[1];return K[J]=o.default.merge.apply(o.default,O(at)),K},{});d.newSubComponentSinks(ot);var nt=Y.map(function(K){var Q=v(K,2),tt=Q[0],J=Q[1];return U.push(tt),J.sink$[d.DOMSourceName]});return nt.length===0?o.default.of(W):o.default.combine.apply(o.default,O(nt)).map(function(K){var Q=K.reduce(function(J,at,ut){return J[U[ut]]=at,J},{}),tt=sr(W,Q,q);return tt})}).flatten().filter(function(j){return!!j}).remember().compose(this.log("View Rendered"))}},{key:"initSinks",value:function(){var d=this;this.sinks=this.sourceNames.reduce(function(N,D){if(D==d.DOMSourceName)return N;var k=d.subComponentSink$?d.subComponentSink$.map(function(R){return R[D]}).filter(function(R){return!!R}).flatten():o.default.never();return D===d.stateSourceName?N[D]=o.default.merge.apply(o.default,[d.model$[D]||o.default.never(),d.sources[d.stateSourceName].stream.filter(function(R){return!1})].concat(O(d.children$[D]))):N[D]=o.default.merge.apply(o.default,[d.model$[D]||o.default.never(),k].concat(O(d.children$[D]))),N},{}),this.sinks[this.DOMSourceName]=this.vdom$,this.sinks[this.requestSourceName]=o.default.merge(this.sendResponse$,this.sinks[this.requestSourceName])}},{key:"makeOnAction",value:function(d){var N=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,k=arguments.length>2?arguments[2]:void 0;return k=k||d,function(R,G){var x=d.filter(function(j){var W=j.type;return W==R}),B;if(typeof G=="function")B=x.map(function(j){var W=function(Q,tt){var J=j._reqId||j.req&&j.req.id,at=J?F(tt)=="object"?T(T({},tt),{},{_reqId:J,_action:R}):{data:tt,_reqId:J,_action:R}:tt;setTimeout(function(){k.shamefullySendNext({type:Q,data:at})},10)},U=j.data;if(U&&U.data&&U._reqId&&(U=U.data),D)return function(K){var Q=N.isSubComponent?N.currentState:K,tt=N.addCalculated(Q),J=G(tt,U,W,j.req);return J==gt?Q:N.cleanupCalculated(J)};var Y=N.addCalculated(N.currentState),rt=G(Y,U,W,j.req),ot=F(rt),nt=j._reqId||j.req&&j.req.id;if(["string","number","boolean","function"].includes(ot))return rt;if(ot=="object")return T(T({},rt),{},{_reqId:nt,_action:R});if(ot=="undefined")return console.warn("'undefined' value sent to ".concat(R)),rt;throw new Error("Invalid reducer type for ".concat(R," ").concat(ot))}).filter(function(j){return j!=gt});else if(G===void 0||G===!0)B=x.map(function(j){var W=j.data;return W});else{var q=G;B=x.mapTo(q)}return B}}},{key:"addCalculated",value:function(d){if(!this.calculated||F(d)!=="object")return d;if(F(this.calculated)!=="object")throw new Error("'calculated' parameter must be an object mapping calculated state field named to functions");var N=Object.entries(this.calculated),D=N.reduce(function(k,R){var G=v(R,2),x=G[0],B=G[1];if(typeof B!="function")throw new Error("Missing or invalid calculator function for calculated field '".concat(x));try{k[x]=B(d)}catch(q){console.warn("Calculated field '".concat(x,"' threw an error during calculation: ").concat(q.message))}return k},{});return T(T({},d),D)}},{key:"cleanupCalculated",value:function(d){var N=this;if(this.storeCalculatedInState)return this.addCalculated(d);if(!this.calculated||!d||F(d)!=="object")return d;var D=Object.keys(this.calculated),k=T({},d);return D.forEach(function(R){N.initialState&&typeof N.initialState[R]!="undefined"?k[R]=N.initialState[R]:delete k[R]}),k}}]),h}();function Xt(h){return function(I){var d=typeof I=="function"?I:function(N){return I};return function(N){return N.debug(function(D){(Z.DEBUG=="true"||Z.DEBUG===!0)&&console.log("[".concat(h,"] ").concat(d(D)))})}}}function ar(h,I){var d,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!h)return{};if((d=h.data)!==null&&d!==void 0&&d.componentsProcessed)return{};N||(h.data.componentsProcessed=!0);var D=h.sel,k=D&&D.toLowerCase()==="collection",R=D&&D.toLowerCase()==="switchable",G=D&&["collection","swtichable"].concat(O(I)).includes(h.sel),x=h.data&&h.data.props||{},B=h.children||[],q={};if(G){var j=ur(h);if(k){if(!x.component)throw new Error("Collection element missing required 'component' property");if(typeof x.component!="string")throw new Error("Invalid 'component' property of collection element: found ".concat(F(x.component)," requires string"));if(!I.includes(x.component))throw new Error("Specified component for collection not found: ".concat(x.component));(!x.value||!Array.isArray(x.value))&&console.warn("No valid array found in the 'value' property of collection ".concat(x.component,": no collection components will be created")),h.data.isCollection=!0,h.data.component=x.component}else if(R){if(!x.components)throw new Error("Switchable element missing required 'components' property");if(F(x.components)!=="object")throw new Error("Invalid 'components' property of switchable element: found ".concat(F(x.components)," requires object mapping names to component factories"));var W=Object.values(x.components);if(!W.every(function(Y){return typeof Y=="function"}))throw new Error("One or more invalid component factories for switchable element is not a valid component factory");if(!x.current||typeof x.current!="string")throw new Error("Missing or invalid 'current' property for switchable element: found ".concat(F(x.current)," requires string"));var U=Object.keys(x.components);if(!U.includes(x.current))throw new Error("Component '".concat(x.current,"' not found in switchable element"));h.data.isSwitchable=!0,h.data.components=x.components,h.data.currentComponent=x.current}q[j]=h}return B.length>0&&B.map(function(Y){return ar(Y,I,!0)}).forEach(function(Y){Object.entries(Y).forEach(function(rt){var ot=v(rt,2),nt=ot[0],K=ot[1];return q[nt]=K})}),q}function sr(h,I,d){var N,D,k,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!!h){if((N=h.data)!==null&&N!==void 0&&N.componentsInjected)return h;!R&&h.data&&(h.data.componentsInjected=!0);var G=h.sel||"NO SELECTOR",x=["collection","swtichable"].concat(O(d)).includes(G),B=h==null||(D=h.data)===null||D===void 0?void 0:D.isCollection;h==null||(k=h.data)===null||k===void 0||k.isSwitchable,h.data&&h.data.props;var q=h.children||[];if(x){var j=ur(h),W=I[j];return B?(h.sel="div",delete h.elm,h.children=W,h):W}else return q.length>0&&(h.children=q.map(function(U){return sr(U,I,d)}).flat()),h}}function ur(h){var I=h.sel,d=h.data&&h.data.props||{},N=d.id&&JSON.stringify(d.id)||JSON.stringify(d);return"".concat(I,"::").concat(N)}})(zr);var gn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=A;var t=i(st),r=n(Vt);function n(p){return p&&p.__esModule?p:{default:p}}function o(p){if(typeof WeakMap!="function")return null;var m=new WeakMap,S=new WeakMap;return(o=function(T){return T?S:m})(p)}function i(p,m){if(!m&&p&&p.__esModule)return p;if(p===null||b(p)!=="object"&&typeof p!="function")return{default:p};var S=o(m);if(S&&S.has(p))return S.get(p);var M={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var L in p)if(L!=="default"&&Object.prototype.hasOwnProperty.call(p,L)){var F=T?Object.getOwnPropertyDescriptor(p,L):null;F&&(F.get||F.set)?Object.defineProperty(M,L,F):M[L]=p[L]}return M.default=p,S&&S.set(p,M),M}function a(p){return y(p)||f(p)||u(p)||s()}function s(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(p){if(typeof Symbol!="undefined"&&p[Symbol.iterator]!=null||p["@@iterator"]!=null)return Array.from(p)}function y(p){if(Array.isArray(p))return v(p)}function w(p,m){var S=Object.keys(p);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(p);m&&(M=M.filter(function(T){return Object.getOwnPropertyDescriptor(p,T).enumerable})),S.push.apply(S,M)}return S}function g(p){for(var m=1;m<arguments.length;m++){var S=arguments[m]!=null?arguments[m]:{};m%2?w(Object(S),!0).forEach(function(M){O(p,M,S[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(S)):w(Object(S)).forEach(function(M){Object.defineProperty(p,M,Object.getOwnPropertyDescriptor(S,M))})}return p}function O(p,m,S){return m in p?Object.defineProperty(p,m,{value:S,enumerable:!0,configurable:!0,writable:!0}):p[m]=S,p}function _(p,m){return E(p)||c(p,m)||u(p,m)||l()}function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(p,m){if(!!p){if(typeof p=="string")return v(p,m);var S=Object.prototype.toString.call(p).slice(8,-1);if(S==="Object"&&p.constructor&&(S=p.constructor.name),S==="Map"||S==="Set")return Array.from(p);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return v(p,m)}}function v(p,m){(m==null||m>p.length)&&(m=p.length);for(var S=0,M=new Array(m);S<m;S++)M[S]=p[S];return M}function c(p,m){var S=p==null?null:typeof Symbol!="undefined"&&p[Symbol.iterator]||p["@@iterator"];if(S!=null){var M=[],T=!0,L=!1,F,Z;try{for(S=S.call(p);!(T=(F=S.next()).done)&&(M.push(F.value),!(m&&M.length===m));T=!0);}catch(H){L=!0,Z=H}finally{try{!T&&S.return!=null&&S.return()}finally{if(L)throw Z}}return M}}function E(p){if(Array.isArray(p))return p}function b(p){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},b(p)}function A(p,m,S){var M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:["DOM"],T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"STATE",L=b(m);if(!m)throw new Error("Missing 'name$' parameter for switchable()");if(!(L==="string"||L==="function"||m instanceof t.Stream))throw new Error("Invalid 'name$' parameter for switchable(): expects Stream, String, or Function");if(m instanceof t.Stream){var F=m.compose((0,r.default)()).startWith(S).remember();return function(H){return $(p,H,F,M)}}else{var Z=L==="function"&&m||function(H){return H[m]};return function(H){var ct=H&&(typeof T=="string"&&H[T]||H.STATE||H.state).stream;if(!ct instanceof t.Stream)throw new Error("Could not find the state source: ".concat(T));var it=ct.map(Z).filter(function(ft){return typeof ft=="string"}).compose((0,r.default)()).startWith(S).remember();return $(p,H,it,M,T)}}}function $(p,m,S){var M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:["DOM"],T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"STATE";typeof M=="string"&&(M=[M]);var L=Object.entries(p).map(function(Z){var H=_(Z,2),ct=H[0],it=H[1];if(m[T]){var ft=m[T].stream,vt=t.default.combine(S,ft).filter(function(It){var Ot=_(It,2),Xt=Ot[0];return Ot[1],Xt==ct}).map(function(It){var Ot=_(It,2);Ot[0];var Xt=Ot[1];return Xt}).remember(),gt=new m[T].constructor(vt,m[T]._name);return[ct,it(g(g({},m),{},{state:gt}))]}return[ct,it(m)]}),F=Object.keys(m).reduce(function(Z,H){if(M.includes(H))Z[H]=S.map(function(it){var ft=L.find(function(vt){var gt=_(vt,2),It=gt[0];return gt[1],It===it});return ft&&ft[1][H]||t.default.never()}).flatten().remember().startWith("");else{var ct=L.filter(function(it){var ft=_(it,2);ft[0];var vt=ft[1];return vt[H]!==void 0}).map(function(it){var ft=_(it,2);ft[0];var vt=ft[1];return vt[H]});Z[H]=t.default.merge.apply(t.default,a(ct))}return Z},{});return F}})(gn);var _n={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=r(st);function r(u){return u&&u.__esModule?u:{default:u}}function n(u,v){return a(u)||i(u,v)||w(u,v)||o()}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(u,v){var c=u==null?null:typeof Symbol!="undefined"&&u[Symbol.iterator]||u["@@iterator"];if(c!=null){var E=[],b=!0,A=!1,$,p;try{for(c=c.call(u);!(b=($=c.next()).done)&&(E.push($.value),!(v&&E.length===v));b=!0);}catch(m){A=!0,p=m}finally{try{!b&&c.return!=null&&c.return()}finally{if(A)throw p}}return E}}function a(u){if(Array.isArray(u))return u}function s(u,v){var c=typeof Symbol!="undefined"&&u[Symbol.iterator]||u["@@iterator"];if(!c){if(Array.isArray(u)||(c=w(u))||v&&u&&typeof u.length=="number"){c&&(u=c);var E=0,b=function(){};return{s:b,n:function(){return E>=u.length?{done:!0}:{done:!1,value:u[E++]}},e:function(S){throw S},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var A=!0,$=!1,p;return{s:function(){c=c.call(u)},n:function(){var S=c.next();return A=S.done,S},e:function(S){$=!0,p=S},f:function(){try{!A&&c.return!=null&&c.return()}finally{if($)throw p}}}}function f(u){return O(u)||g(u)||w(u)||y()}function y(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(u,v){if(!!u){if(typeof u=="string")return _(u,v);var c=Object.prototype.toString.call(u).slice(8,-1);if(c==="Object"&&u.constructor&&(c=u.constructor.name),c==="Map"||c==="Set")return Array.from(u);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return _(u,v)}}function g(u){if(typeof Symbol!="undefined"&&u[Symbol.iterator]!=null||u["@@iterator"]!=null)return Array.from(u)}function O(u){if(Array.isArray(u))return _(u)}function _(u,v){(v==null||v>u.length)&&(v=u.length);for(var c=0,E=new Array(v);c<v;c++)E[c]=u[c];return E}function l(u){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=v.events,E=c===void 0?["input","submit"]:c,b=v.preventDefault,A=b===void 0?!0:b;typeof E=="string"&&(E=[E]);var $=E.map(function(m){return u.events(m)}),p=t.default.merge.apply(t.default,f($));return p.map(function(m){A&&m.preventDefault();var S=m.type==="submit"?m.srcElement:m.currentTarget,M=new FormData(S),T={};T.event=m,T.eventType=m.type;var L=S.querySelector("input[type=submit]:focus");if(L){var F=L.name,Z=L.value;T[F||"submit"]=Z}var H=s(M.entries()),ct;try{for(H.s();!(ct=H.n()).done;){var it=n(ct.value,2),ft=it[0],vt=it[1];T[ft]=vt}}catch(gt){H.e(gt)}finally{H.f()}return T})}})(_n);var bn={};function aa(){var e;return typeof window!="undefined"?e=window:typeof global!="undefined"?e=global:e=this,e.Cyclejs=e.Cyclejs||{},e=e.Cyclejs,e.adaptStream=e.adaptStream||function(t){return t},e}function sa(e){return aa().adaptStream(e)}function ua(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=et.create());return t}function la(e,t){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n](t[n],n),r[n]&&typeof r[n]=="object"&&(r[n]._isCycleSource=n));return r}function ca(e){for(var t in e)e.hasOwnProperty(t)&&e[t]&&typeof e[t].shamefullySendNext=="function"&&(e[t]=sa(e[t]));return e}function fa(e,t){var r=mn(),n=Object.keys(e).filter(function(s){return!!t[s]}),o={},i={};n.forEach(function(s){o[s]={_n:[],_e:[]},i[s]={next:function(f){return o[s]._n.push(f)},error:function(f){return o[s]._e.push(f)},complete:function(){}}});var a=n.map(function(s){return et.fromObservable(e[s]).subscribe(i[s])});return n.forEach(function(s){var f=t[s],y=function(g){r(function(){return f._n(g)})},w=function(g){r(function(){(console.error||console.log)(g),f._e(g)})};o[s]._n.forEach(y),o[s]._e.forEach(w),i[s].next=y,i[s].error=w,i[s]._n=y,i[s]._e=w}),o=null,function(){a.forEach(function(f){return f.unsubscribe()})}}function pa(e){Object.keys(e).forEach(function(t){return e[t]._c()})}function da(e){for(var t in e)e.hasOwnProperty(t)&&e[t]&&e[t].dispose&&e[t].dispose()}function wn(e){return Object.keys(e).length===0}function Sn(e,t){if(typeof e!="function")throw new Error("First argument given to Cycle must be the 'main' function.");if(typeof t!="object"||t===null)throw new Error("Second argument given to Cycle must be an object with driver functions as properties.");if(wn(t))throw new Error("Second argument given to Cycle must be an object with at least one driver function declared as a property.");var r=On(t),n=e(r.sources);typeof window!="undefined"&&(window.Cyclejs=window.Cyclejs||{},window.Cyclejs.sinks=n);function o(){var i=r.run(n);return function(){i(),r.dispose()}}return{sinks:n,sources:r.sources,run:o}}function On(e){if(typeof e!="object"||e===null)throw new Error("Argument given to setupReusable must be an object with driver functions as properties.");if(wn(e))throw new Error("Argument given to setupReusable must be an object with at least one driver function declared as a property.");var t=ua(e),r=la(e,t),n=ca(r);function o(a){return fa(a,t)}function i(){da(n),pa(t)}return{sources:n,run:o,dispose:i}}function Or(e,t){var r=Sn(e,t);return typeof window!="undefined"&&window.CyclejsDevTool_startGraphSerializer&&window.CyclejsDevTool_startGraphSerializer(r.sinks),r.run()}var ha=Object.freeze(Object.defineProperty({__proto__:null,setup:Sn,setupReusable:On,run:Or,default:Or},Symbol.toStringTag,{value:"Module"})),va=we(ha);function ya(e,t){return document.createElement(e,t)}function ma(e,t,r){return document.createElementNS(e,t,r)}function ga(){return document.createDocumentFragment()}function _a(e){return document.createTextNode(e)}function ba(e){return document.createComment(e)}function wa(e,t,r){e.insertBefore(t,r)}function Sa(e,t){e.removeChild(t)}function Oa(e,t){e.appendChild(t)}function Aa(e){return e.parentNode}function Ea(e){return e.nextSibling}function Pa(e){return e.tagName}function Na(e,t){e.textContent=t}function Ca(e){return e.textContent}function $a(e){return e.nodeType===1}function Ia(e){return e.nodeType===3}function Ma(e){return e.nodeType===8}function Ta(e){return e.nodeType===11}const An={createElement:ya,createElementNS:ma,createTextNode:_a,createDocumentFragment:ga,createComment:ba,insertBefore:wa,removeChild:Sa,appendChild:Oa,parentNode:Aa,nextSibling:Ea,tagName:Pa,setTextContent:Na,getTextContent:Ca,isElement:$a,isText:Ia,isComment:Ma,isDocumentFragment:Ta};function St(e,t,r,n,o){const i=t===void 0?void 0:t.key;return{sel:e,data:t,children:r,text:n,elm:o,key:i}}const Ge=Array.isArray;function de(e){return typeof e=="string"||typeof e=="number"||e instanceof String||e instanceof Number}function je(e){return e===void 0}function ht(e){return e!==void 0}const Re=St("",{},[],void 0,void 0);function te(e,t){var r,n;const o=e.key===t.key,i=((r=e.data)===null||r===void 0?void 0:r.is)===((n=t.data)===null||n===void 0?void 0:n.is);return e.sel===t.sel&&o&&i}function Da(){throw new Error("The document fragment is not supported on this platform.")}function ka(e,t){return e.isElement(t)}function xa(e,t){return e.isDocumentFragment(t)}function ja(e,t,r){var n;const o={};for(let i=t;i<=r;++i){const a=(n=e[i])===null||n===void 0?void 0:n.key;a!==void 0&&(o[a]=i)}return o}const Ra=["create","update","remove","destroy","pre","post"];function La(e,t,r){const n={create:[],update:[],remove:[],destroy:[],pre:[],post:[]},o=t!==void 0?t:An;for(const l of Ra)for(const u of e){const v=u[l];v!==void 0&&n[l].push(v)}function i(l){const u=l.id?"#"+l.id:"",v=l.getAttribute("class"),c=v?"."+v.split(" ").join("."):"";return St(o.tagName(l).toLowerCase()+u+c,{},[],void 0,l)}function a(l){return St(void 0,{},[],void 0,l)}function s(l,u){return function(){if(--u===0){const c=o.parentNode(l);o.removeChild(c,l)}}}function f(l,u){var v,c,E,b;let A,$=l.data;if($!==void 0){const S=(v=$.hook)===null||v===void 0?void 0:v.init;ht(S)&&(S(l),$=l.data)}const p=l.children,m=l.sel;if(m==="!")je(l.text)&&(l.text=""),l.elm=o.createComment(l.text);else if(m!==void 0){const S=m.indexOf("#"),M=m.indexOf(".",S),T=S>0?S:m.length,L=M>0?M:m.length,F=S!==-1||M!==-1?m.slice(0,Math.min(T,L)):m,Z=l.elm=ht($)&&ht(A=$.ns)?o.createElementNS(A,F,$):o.createElement(F,$);for(T<L&&Z.setAttribute("id",m.slice(T+1,L)),M>0&&Z.setAttribute("class",m.slice(L+1).replace(/\./g," ")),A=0;A<n.create.length;++A)n.create[A](Re,l);if(Ge(p))for(A=0;A<p.length;++A){const ct=p[A];ct!=null&&o.appendChild(Z,f(ct,u))}else de(l.text)&&o.appendChild(Z,o.createTextNode(l.text));const H=l.data.hook;ht(H)&&((c=H.create)===null||c===void 0||c.call(H,Re,l),H.insert&&u.push(l))}else if(((E=r==null?void 0:r.experimental)===null||E===void 0?void 0:E.fragments)&&l.children){const S=l.children;for(l.elm=((b=o.createDocumentFragment)!==null&&b!==void 0?b:Da)(),A=0;A<n.create.length;++A)n.create[A](Re,l);for(A=0;A<S.length;++A){const M=S[A];M!=null&&o.appendChild(l.elm,f(M,u))}}else l.elm=o.createTextNode(l.text);return l.elm}function y(l,u,v,c,E,b){for(;c<=E;++c){const A=v[c];A!=null&&o.insertBefore(l,f(A,b),u)}}function w(l){var u,v;const c=l.data;if(c!==void 0){(v=(u=c==null?void 0:c.hook)===null||u===void 0?void 0:u.destroy)===null||v===void 0||v.call(u,l);for(let E=0;E<n.destroy.length;++E)n.destroy[E](l);if(l.children!==void 0)for(let E=0;E<l.children.length;++E){const b=l.children[E];b!=null&&typeof b!="string"&&w(b)}}}function g(l,u,v,c){for(var E,b;v<=c;++v){let A,$;const p=u[v];if(p!=null)if(ht(p.sel)){w(p),A=n.remove.length+1,$=s(p.elm,A);for(let S=0;S<n.remove.length;++S)n.remove[S](p,$);const m=(b=(E=p==null?void 0:p.data)===null||E===void 0?void 0:E.hook)===null||b===void 0?void 0:b.remove;ht(m)?m(p,$):$()}else o.removeChild(l,p.elm)}}function O(l,u,v,c){let E=0,b=0,A=u.length-1,$=u[0],p=u[A],m=v.length-1,S=v[0],M=v[m],T,L,F,Z;for(;E<=A&&b<=m;)$==null?$=u[++E]:p==null?p=u[--A]:S==null?S=v[++b]:M==null?M=v[--m]:te($,S)?(_($,S,c),$=u[++E],S=v[++b]):te(p,M)?(_(p,M,c),p=u[--A],M=v[--m]):te($,M)?(_($,M,c),o.insertBefore(l,$.elm,o.nextSibling(p.elm)),$=u[++E],M=v[--m]):te(p,S)?(_(p,S,c),o.insertBefore(l,p.elm,$.elm),p=u[--A],S=v[++b]):(T===void 0&&(T=ja(u,E,A)),L=T[S.key],je(L)?o.insertBefore(l,f(S,c),$.elm):(F=u[L],F.sel!==S.sel?o.insertBefore(l,f(S,c),$.elm):(_(F,S,c),u[L]=void 0,o.insertBefore(l,F.elm,$.elm))),S=v[++b]);b<=m&&(Z=v[m+1]==null?null:v[m+1].elm,y(l,Z,v,b,m,c)),E<=A&&g(l,u,E,A)}function _(l,u,v){var c,E,b,A,$,p,m,S;const M=(c=u.data)===null||c===void 0?void 0:c.hook;(E=M==null?void 0:M.prepatch)===null||E===void 0||E.call(M,l,u);const T=u.elm=l.elm,L=l.children,F=u.children;if(l!==u){if(u.data!==void 0||ht(u.text)&&u.text!==l.text){(b=u.data)!==null&&b!==void 0||(u.data={}),(A=l.data)!==null&&A!==void 0||(l.data={});for(let Z=0;Z<n.update.length;++Z)n.update[Z](l,u);(m=(p=($=u.data)===null||$===void 0?void 0:$.hook)===null||p===void 0?void 0:p.update)===null||m===void 0||m.call(p,l,u)}je(u.text)?ht(L)&&ht(F)?L!==F&&O(T,L,F,v):ht(F)?(ht(l.text)&&o.setTextContent(T,""),y(T,null,F,0,F.length-1,v)):ht(L)?g(T,L,0,L.length-1):ht(l.text)&&o.setTextContent(T,""):l.text!==u.text&&(ht(L)&&g(T,L,0,L.length-1),o.setTextContent(T,u.text)),(S=M==null?void 0:M.postpatch)===null||S===void 0||S.call(M,l,u)}}return function(u,v){let c,E,b;const A=[];for(c=0;c<n.pre.length;++c)n.pre[c]();for(ka(o,u)?u=i(u):xa(o,u)&&(u=a(u)),te(u,v)?_(u,v,A):(E=u.elm,b=o.parentNode(E),f(v,A),b!==null&&(o.insertBefore(b,v.elm,o.nextSibling(E)),g(b,[u],0,0))),c=0;c<A.length;++c)A[c].data.hook.insert(A[c]);for(c=0;c<n.post.length;++c)n.post[c]();return v}}function rr(e,t,r){if(e.ns="http://www.w3.org/2000/svg",r!=="foreignObject"&&t!==void 0)for(let n=0;n<t.length;++n){const o=t[n];if(typeof o=="string")continue;const i=o.data;i!==void 0&&rr(i,o.children,o.sel)}}function wt(e,t,r){let n={},o,i,a;if(r!==void 0?(t!==null&&(n=t),Ge(r)?o=r:de(r)?i=r.toString():r&&r.sel&&(o=[r])):t!=null&&(Ge(t)?o=t:de(t)?i=t.toString():t&&t.sel?o=[t]:n=t),o!==void 0)for(a=0;a<o.length;++a)de(o[a])&&(o[a]=St(void 0,void 0,void 0,o[a],void 0));return e[0]==="s"&&e[1]==="v"&&e[2]==="g"&&(e.length===3||e[3]==="."||e[3]==="#")&&rr(n,o,e),St(e,n,o,i,void 0)}function He(e,t){const r=t!==void 0?t:An;let n;if(r.isElement(e)){const o=e.id?"#"+e.id:"",i=e.getAttribute("class"),a=i?"."+i.split(" ").join("."):"",s=r.tagName(e).toLowerCase()+o+a,f={},y={},w={},g=[];let O,_,l;const u=e.attributes,v=e.childNodes;for(_=0,l=u.length;_<l;_++)O=u[_].nodeName,O[0]==="d"&&O[1]==="a"&&O[2]==="t"&&O[3]==="a"&&O[4]==="-"?y[O.slice(5)]=u[_].nodeValue||"":O!=="id"&&O!=="class"&&(f[O]=u[_].nodeValue);for(_=0,l=v.length;_<l;_++)g.push(He(v[_],t));return Object.keys(f).length>0&&(w.attrs=f),Object.keys(y).length>0&&(w.datasets=y),s[0]==="s"&&s[1]==="v"&&s[2]==="g"&&(s.length===3||s[3]==="."||s[3]==="#")&&rr(w,g,s),St(s,w,g,void 0,e)}else return r.isText(e)?(n=r.getTextContent(e),St(void 0,void 0,void 0,n,e)):r.isComment(e)?(n=r.getTextContent(e),St("!",{},[],n,e)):St("",{},[],void 0,e)}const Fa="http://www.w3.org/1999/xlink",Ba="http://www.w3.org/XML/1998/namespace",Ar=58,qa=120;function Er(e,t){let r;const n=t.elm;let o=e.data.attrs,i=t.data.attrs;if(!(!o&&!i)&&o!==i){o=o||{},i=i||{};for(r in i){const a=i[r];o[r]!==a&&(a===!0?n.setAttribute(r,""):a===!1?n.removeAttribute(r):r.charCodeAt(0)!==qa?n.setAttribute(r,a):r.charCodeAt(3)===Ar?n.setAttributeNS(Ba,r,a):r.charCodeAt(5)===Ar?n.setAttributeNS(Fa,r,a):n.setAttribute(r,a))}for(r in o)r in i||n.removeAttribute(r)}}const Wa={create:Er,update:Er};function Pr(e,t){let r,n;const o=t.elm;let i=e.data.class,a=t.data.class;if(!(!i&&!a)&&i!==a){i=i||{},a=a||{};for(n in i)i[n]&&!Object.prototype.hasOwnProperty.call(a,n)&&o.classList.remove(n);for(n in a)r=a[n],r!==i[n]&&o.classList[r?"add":"remove"](n)}}const Ua={create:Pr,update:Pr},Nr=/[A-Z]/g;function Cr(e,t){const r=t.elm;let n=e.data.dataset,o=t.data.dataset,i;if(!n&&!o||n===o)return;n=n||{},o=o||{};const a=r.dataset;for(i in n)o[i]||(a?i in a&&delete a[i]:r.removeAttribute("data-"+i.replace(Nr,"-$&").toLowerCase()));for(i in o)n[i]!==o[i]&&(a?a[i]=o[i]:r.setAttribute("data-"+i.replace(Nr,"-$&").toLowerCase(),o[i]))}const Ga={create:Cr,update:Cr};function $r(e,t){let r,n,o;const i=t.elm;let a=e.data.props,s=t.data.props;if(!(!a&&!s)&&a!==s){a=a||{},s=s||{};for(r in s)n=s[r],o=a[r],o!==n&&(r!=="value"||i[r]!==n)&&(i[r]=n)}}const Ha={create:$r,update:$r},Ir=typeof window!="undefined"&&window.requestAnimationFrame.bind(window)||setTimeout,za=function(e){Ir(function(){Ir(e)})};let ze=!1;function Ka(e,t,r){za(function(){e[t]=r})}function Mr(e,t){let r,n;const o=t.elm;let i=e.data.style,a=t.data.style;if(!i&&!a||i===a)return;i=i||{},a=a||{};const s="delayed"in i;for(n in i)a[n]||(n[0]==="-"&&n[1]==="-"?o.style.removeProperty(n):o.style[n]="");for(n in a)if(r=a[n],n==="delayed"&&a.delayed)for(const f in a.delayed)r=a.delayed[f],(!s||r!==i.delayed[f])&&Ka(o.style,f,r);else n!=="remove"&&r!==i[n]&&(n[0]==="-"&&n[1]==="-"?o.style.setProperty(n,r):o.style[n]=r)}function Ja(e){let t,r;const n=e.elm,o=e.data.style;if(!(!o||!(t=o.destroy)))for(r in t)n.style[r]=t[r]}function Ya(e,t){const r=e.data.style;if(!r||!r.remove){t();return}ze||(e.elm.offsetLeft,ze=!0);let n;const o=e.elm;let i=0;const a=r.remove;let s=0;const f=[];for(n in a)f.push(n),o.style[n]=a[n];const w=getComputedStyle(o)["transition-property"].split(", ");for(;i<w.length;++i)f.indexOf(w[i])!==-1&&s++;o.addEventListener("transitionend",function(g){g.target===o&&--s,s===0&&t()})}function Va(){ze=!1}const Xa={pre:Va,create:Mr,update:Mr,destroy:Ja,remove:Ya};function he(e,t){t.elm=e.elm,e.data.fn=t.data.fn,e.data.args=t.data.args,e.data.isolate=t.data.isolate,t.data=e.data,t.children=e.children,t.text=e.text,t.elm=e.elm}function Za(e){var t=e.data,r=t.fn.apply(void 0,t.args);he(r,e)}function Qa(e,t){var r=e.data,n=t.data,o,i=r.args,a=n.args;for((r.fn!==n.fn||i.length!==a.length)&&he(n.fn.apply(void 0,a),t),o=0;o<a.length;++o)if(i[o]!==a[o]){he(n.fn.apply(void 0,a),t);return}he(e,t)}function ts(e,t,r,n){return n===void 0&&(n=r,r=t,t=void 0),wt(e,{key:t,hook:{init:Za,prepatch:Qa},fn:r,args:n})}function _e(e,t,r,n,o){r===void 0&&(r=!1),n===void 0&&(n=!1),o===void 0&&(o=!1);var i=null;return Oe.create({start:function(s){n?i=function(y){Pn(y,n),s.next(y)}:i=function(y){s.next(y)},e.addEventListener(t,i,{capture:r,passive:o})},stop:function(){e.removeEventListener(t,i,r),i=null}})}function En(e,t){for(var r=Object.keys(e),n=r.length,o=0;o<n;o++){var i=r[o];if(typeof e[i]=="object"&&typeof t[i]=="object"){if(!En(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1}return!0}function Pn(e,t){if(t)if(typeof t=="boolean")e.preventDefault();else if(es(t))t(e)&&e.preventDefault();else if(typeof t=="object")En(t,e)&&e.preventDefault();else throw new Error("preventDefault has to be either a boolean, predicate function or object")}function es(e){return typeof e=="function"}var rs=function(){function e(t){this._name=t}return e.prototype.select=function(t){return this},e.prototype.elements=function(){var t=lt(et.of([document]));return t._isCycleSource=this._name,t},e.prototype.element=function(){var t=lt(et.of(document));return t._isCycleSource=this._name,t},e.prototype.events=function(t,r,n){r===void 0&&(r={});var o;o=_e(document,t,r.useCapture,r.preventDefault);var i=lt(o);return i._isCycleSource=this._name,i},e}(),ns=function(){function e(t){this._name=t}return e.prototype.select=function(t){return this},e.prototype.elements=function(){var t=lt(et.of([document.body]));return t._isCycleSource=this._name,t},e.prototype.element=function(){var t=lt(et.of(document.body));return t._isCycleSource=this._name,t},e.prototype.events=function(t,r,n){r===void 0&&(r={});var o;o=_e(document.body,t,r.useCapture,r.preventDefault);var i=lt(o);return i._isCycleSource=this._name,i},e}();function os(e){var t=1,r=11;return typeof HTMLElement=="object"?e instanceof HTMLElement||e instanceof DocumentFragment:e&&typeof e=="object"&&e!==null&&(e.nodeType===t||e.nodeType===r)&&typeof e.nodeName=="string"}function is(e){return e.length>1&&(e[0]==="."||e[0]==="#")}function as(e){return e.nodeType===11}function ss(e){if(typeof e!="string"&&!os(e))throw new Error("Given container is not a DOM element neither a selector string.")}function us(e){var t=typeof e=="string"?document.querySelector(e):e;if(typeof e=="string"&&t===null)throw new Error("Cannot render into unknown element `"+e+"`");return t}function Nn(e){for(var t="",r=e.length-1;r>=0&&e[r].type==="selector";r--)t=e[r].scope+" "+t;return t.trim()}function nr(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==t[r].type||e[r].scope!==t[r].scope)return!1;return!0}var Cn=function(){function e(t,r){this.namespace=t,this.isolateModule=r,this._namespace=t.filter(function(n){return n.type!=="selector"})}return e.prototype.isDirectlyInScope=function(t){var r=this.isolateModule.getNamespace(t);if(!r||this._namespace.length>r.length||!nr(this._namespace,r.slice(0,this._namespace.length)))return!1;for(var n=this._namespace.length;n<r.length;n++)if(r[n].type==="total")return!1;return!0},e}();function ls(e){return Array.prototype.slice.call(e)}var $n=function(){function e(t,r){this.namespace=t,this.isolateModule=r}return e.prototype.call=function(){var t=this.namespace,r=Nn(t),n=new Cn(t,this.isolateModule),o=this.isolateModule.getElement(t.filter(function(i){return i.type!=="selector"}));return o===void 0?[]:r===""?[o]:ls(o.querySelectorAll(r)).filter(n.isDirectlyInScope,n).concat(o.matches(r)?[o]:[])},e}(),oe=globalThis&&globalThis.__assign||function(){return oe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},oe.apply(this,arguments)};function cs(e){return function(t,r){return r===":root"?t:t.map(function(n){if(!n)return n;var o=In(r),i=oe({},n,{data:oe({},n.data,{isolate:!n.data||!Array.isArray(n.data.isolate)?e.concat([o]):n.data.isolate})});return oe({},i,{key:i.key!==void 0?i.key:JSON.stringify(i.data.isolate)})})}}function In(e){return{type:is(e)?"sibling":"total",scope:e}}var Mn=function(){function e(t,r,n,o,i,a){n===void 0&&(n=[]),this._rootElement$=t,this._sanitation$=r,this._namespace=n,this._isolateModule=o,this._eventDelegator=i,this._name=a,this.isolateSource=function(s,f){return new e(s._rootElement$,s._sanitation$,s._namespace.concat(In(f)),s._isolateModule,s._eventDelegator,s._name)},this.isolateSink=cs(this._namespace)}return e.prototype._elements=function(){if(this._namespace.length===0)return this._rootElement$.map(function(r){return[r]});var t=new $n(this._namespace,this._isolateModule);return this._rootElement$.map(function(){return t.call()})},e.prototype.elements=function(){var t=lt(this._elements().remember());return t._isCycleSource=this._name,t},e.prototype.element=function(){var t=lt(this._elements().filter(function(r){return r.length>0}).map(function(r){return r[0]}).remember());return t._isCycleSource=this._name,t},Object.defineProperty(e.prototype,"namespace",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),e.prototype.select=function(t){if(typeof t!="string")throw new Error("DOM driver's select() expects the argument to be a string as a CSS selector");if(t==="document")return new rs(this._name);if(t==="body")return new ns(this._name);var r=t===":root"?[]:this._namespace.concat({type:"selector",scope:t.trim()});return new e(this._rootElement$,this._sanitation$,r,this._isolateModule,this._eventDelegator,this._name)},e.prototype.events=function(t,r,n){if(r===void 0&&(r={}),typeof t!="string")throw new Error("DOM driver's events() expects argument to be a string representing the event type to listen for.");var o=this._eventDelegator.addEventListener(t,this._namespace,r,n),i=lt(o);return i._isCycleSource=this._name,i},e.prototype.dispose=function(){this._sanitation$.shamefullySendNext(null)},e}(),Yt={},fs=mt&&mt.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.SampleCombineOperator=Yt.SampleCombineListener=void 0;var ps=st,Ct={},Tn=function(){function e(t,r){this.i=t,this.p=r,r.ils[t]=this}return e.prototype._n=function(t){var r=this.p;r.out!==Ct&&r.up(t,this.i)},e.prototype._e=function(t){this.p._e(t)},e.prototype._c=function(){this.p.down(this.i,this)},e}();Yt.SampleCombineListener=Tn;var Dn=function(){function e(t,r){this.type="sampleCombine",this.ins=t,this.others=r,this.out=Ct,this.ils=[],this.Nn=0,this.vals=[]}return e.prototype._start=function(t){this.out=t;for(var r=this.others,n=this.Nn=r.length,o=this.vals=new Array(n),i=0;i<n;i++)o[i]=Ct,r[i]._add(new Tn(i,this));this.ins._add(this)},e.prototype._stop=function(){var t=this.others,r=t.length,n=this.ils;this.ins._remove(this);for(var o=0;o<r;o++)t[o]._remove(n[o]);this.out=Ct,this.vals=[],this.ils=[]},e.prototype._n=function(t){var r=this.out;r!==Ct&&(this.Nn>0||r._n(fs([t],this.vals)))},e.prototype._e=function(t){var r=this.out;r!==Ct&&r._e(t)},e.prototype._c=function(){var t=this.out;t!==Ct&&t._c()},e.prototype.up=function(t,r){var n=this.vals[r];this.Nn>0&&n===Ct&&this.Nn--,this.vals[r]=t},e.prototype.down=function(t,r){this.others[t]._remove(r)},e}();Yt.SampleCombineOperator=Dn;var kn;kn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return function(o){return new ps.Stream(new Dn(o,t))}};var ds=Yt.default=kn;globalThis&&globalThis.__assign;function xn(e){if(!e.sel)return{tagName:"",id:"",className:""};var t=e.sel,r=t.indexOf("#"),n=t.indexOf(".",r),o=r>0?r:t.length,i=n>0?n:t.length,a=r!==-1||n!==-1?t.slice(0,Math.min(o,i)):t,s=o<i?t.slice(o+1,i):void 0,f=n>0?t.slice(i+1).replace(/\./g," "):void 0;return{tagName:a,id:s,className:f}}function hs(e){var t=xn(e).className,r=t===void 0?"":t;if(!e.data)return r;var n=e.data,o=n.class,i=n.props;if(o){var a=Object.keys(o).filter(function(s){return o[s]});r+=" "+a.join(" ")}return i&&i.className&&(r+=" "+i.className),r&&r.trim()}var re;typeof self!="undefined"?re=self:typeof window!="undefined"?re=window:typeof global!="undefined"?re=global:re=Function("return this")();var Tr=re.Symbol;typeof Tr=="function"&&Tr("parent");var vs=function(){function e(t){this.rootElement=t}return e.prototype.call=function(t){if(as(this.rootElement))return this.wrapDocFrag(t===null?[]:[t]);if(t===null)return this.wrap([]);var r=xn(t),n=r.tagName,o=r.id,i=hs(t),a=t.data||{},s=a.props||{},f=s.id,y=f===void 0?o:f,w=typeof y=="string"&&y.toUpperCase()===this.rootElement.id.toUpperCase()&&n.toUpperCase()===this.rootElement.tagName.toUpperCase()&&i.toUpperCase()===this.rootElement.className.toUpperCase();return w?t:this.wrap([t])},e.prototype.wrapDocFrag=function(t){return St("",{isolate:[]},t,void 0,this.rootElement)},e.prototype.wrap=function(t){var r=this.rootElement,n=r.tagName,o=r.id,i=r.className,a=o?"#"+o:"",s=i?"."+i.split(" ").join("."):"",f=wt(""+n.toLowerCase()+a+s,{},t);return f.data=f.data||{},f.data.isolate=f.data.isolate||[],f},e}(),ys=[Xa,Ua,Ha,Wa,Ga],jn=function(){function e(t){this.mapper=t,this.tree=[void 0,{}]}return e.prototype.set=function(t,r,n){for(var o=this.tree,i=n!==void 0?n:t.length,a=0;a<i;a++){var s=this.mapper(t[a]),f=o[1][s];f||(f=[void 0,{}],o[1][s]=f),o=f}o[0]=r},e.prototype.getDefault=function(t,r,n){return this.get(t,r,n)},e.prototype.get=function(t,r,n){for(var o=this.tree,i=n!==void 0?n:t.length,a=0;a<i;a++){var s=this.mapper(t[a]),f=o[1][s];if(!f)if(r)f=[void 0,{}],o[1][s]=f;else return;o=f}return r&&!o[0]&&(o[0]=r()),o[0]},e.prototype.delete=function(t){for(var r=this.tree,n=0;n<t.length-1;n++){var o=r[1][this.mapper(t[n])];if(!o)return;r=o}delete r[1][this.mapper(t[t.length-1])]},e}(),ms=function(){function e(){this.namespaceTree=new jn(function(t){return t.scope}),this.namespaceByElement=new Map,this.vnodesBeingRemoved=[]}return e.prototype.setEventDelegator=function(t){this.eventDelegator=t},e.prototype.insertElement=function(t,r){this.namespaceByElement.set(r,t),this.namespaceTree.set(t,r)},e.prototype.removeElement=function(t){this.namespaceByElement.delete(t);var r=this.getNamespace(t);r&&this.namespaceTree.delete(r)},e.prototype.getElement=function(t,r){return this.namespaceTree.get(t,void 0,r)},e.prototype.getRootElement=function(t){if(this.namespaceByElement.has(t))return t;for(var r=t;!this.namespaceByElement.has(r);)if(r=r.parentNode,r){if(r.tagName==="HTML")throw new Error("No root element found, this should not happen at all")}else return;return r},e.prototype.getNamespace=function(t){var r=this.getRootElement(t);if(!!r)return this.namespaceByElement.get(r)},e.prototype.createModule=function(){var t=this;return{create:function(r,n){var o=n.elm,i=n.data,a=i===void 0?{}:i,s=a.isolate;Array.isArray(s)&&t.insertElement(s,o)},update:function(r,n){var o=r.elm,i=r.data,a=i===void 0?{}:i,s=n.elm,f=n.data,y=f===void 0?{}:f,w=a.isolate,g=y.isolate;nr(w,g)||Array.isArray(w)&&t.removeElement(o),Array.isArray(g)&&t.insertElement(g,s)},destroy:function(r){t.vnodesBeingRemoved.push(r)},remove:function(r,n){t.vnodesBeingRemoved.push(r),n()},post:function(){for(var r=t.vnodesBeingRemoved,n=r.length-1;n>=0;n--){var o=r[n],i=o.data!==void 0?o.data.isolation:void 0;i!==void 0&&t.removeElement(i),t.eventDelegator.removeElement(o.elm,i)}t.vnodesBeingRemoved=[]}}},e}(),gs=function(){function e(){this.arr=[],this.prios=[]}return e.prototype.add=function(t,r){for(var n=0;n<this.arr.length;n++)if(this.prios[n]<r){this.arr.splice(n,0,t),this.prios.splice(n,0,r);return}this.arr.push(t),this.prios.push(r)},e.prototype.forEach=function(t){for(var r=0;r<this.arr.length;r++)t(this.arr[r],r,this.arr)},e.prototype.delete=function(t){for(var r=0;r<this.arr.length;r++)if(this.arr[r]===t){this.arr.splice(r,1),this.prios.splice(r,1);return}},e}(),be=globalThis&&globalThis.__assign||function(){return be=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},be.apply(this,arguments)},_s=["blur","canplay","canplaythrough","durationchange","emptied","ended","focus","load","loadeddata","loadedmetadata","mouseenter","mouseleave","pause","play","playing","ratechange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeupdate","unload","volumechange","waiting"],bs=function(){function e(t,r){var n=this;this.rootElement$=t,this.isolateModule=r,this.virtualListeners=new jn(function(o){return o.scope}),this.nonBubblingListenersToAdd=new Set,this.virtualNonBubblingListener=[],this.isolateModule.setEventDelegator(this),this.domListeners=new Map,this.domListenersToAdd=new Map,this.nonBubblingListeners=new Map,t.addListener({next:function(o){n.origin!==o&&(n.origin=o,n.resetEventListeners(),n.domListenersToAdd.forEach(function(i,a){return n.setupDOMListener(a,i)}),n.domListenersToAdd.clear()),n.nonBubblingListenersToAdd.forEach(function(i){n.setupNonBubblingListener(i)})}})}return e.prototype.addEventListener=function(t,r,n,o){var i=et.never(),a,s=new Cn(r,this.isolateModule),f=o===void 0?_s.indexOf(t)===-1:o;if(f)return this.domListeners.has(t)||this.setupDOMListener(t,!!n.passive),a=this.insertListener(i,s,t,n),i;var y=[];this.nonBubblingListenersToAdd.forEach(function($){return y.push($)});for(var w=void 0,g=0,O=y.length,_=function($){$[0];var p=$[1],m=$[2];return $[3],t===p&&nr(m.namespace,r)};!w&&g<O;){var l=y[g];w=_(l)?l:w,g++}var u=w,v;if(u){var E=u[0];v=E}else{var c=new $n(r,this.isolateModule);a=this.insertListener(i,s,t,n),u=[i,t,c,a],v=i,this.nonBubblingListenersToAdd.add(u),this.setupNonBubblingListener(u)}var b=this,A=null;return et.create({start:function($){A=v.subscribe($)},stop:function(){u[0];var $=u[1],p=u[2];u[3];var m=p.call();m.forEach(function(S){var M=S.subs;M&&M[$]&&(M[$].unsubscribe(),delete M[$])}),b.nonBubblingListenersToAdd.delete(u),A.unsubscribe()}})},e.prototype.removeElement=function(t,r){r!==void 0&&this.virtualListeners.delete(r);var n=[];this.nonBubblingListeners.forEach(function(a,s){if(a.has(t)){n.push([s,t]);var f=t.subs;f&&Object.keys(f).forEach(function(y){f[y].unsubscribe()})}});for(var o=0;o<n.length;o++){var i=this.nonBubblingListeners.get(n[o][0]);!i||(i.delete(n[o][1]),i.size===0?this.nonBubblingListeners.delete(n[o][0]):this.nonBubblingListeners.set(n[o][0],i))}},e.prototype.insertListener=function(t,r,n,o){var i=[],a=r._namespace,s=a.length;do i.push(this.getVirtualListeners(n,a,!0,s)),s--;while(s>=0&&a[s].type!=="total");for(var f=be({},o,{scopeChecker:r,subject:t,bubbles:!!o.bubbles,useCapture:!!o.useCapture,passive:!!o.passive}),y=0;y<i.length;y++)i[y].add(f,a.length);return f},e.prototype.getVirtualListeners=function(t,r,n,o){n===void 0&&(n=!1);var i=o!==void 0?o:r.length;if(!n)for(var a=i-1;a>=0;a--){if(r[a].type==="total"){i=a+1;break}i=a}var s=this.virtualListeners.getDefault(r,function(){return new Map},i);return s.has(t)||s.set(t,new gs),s.get(t)},e.prototype.setupDOMListener=function(t,r){var n=this;if(this.origin){var o=_e(this.origin,t,!1,!1,r).subscribe({next:function(i){return n.onEvent(t,i,r)},error:function(){},complete:function(){}});this.domListeners.set(t,{sub:o,passive:r})}else this.domListenersToAdd.set(t,r)},e.prototype.setupNonBubblingListener=function(t){t[0];var r=t[1],n=t[2],o=t[3];if(!!this.origin){var i=n.call();if(i.length){var a=this;i.forEach(function(s){var f,y=s.subs;if(!y||!y[r]){var w=_e(s,r,!1,!1,o.passive).subscribe({next:function(O){return a.onEvent(r,O,!!o.passive,!1)},error:function(){},complete:function(){}});a.nonBubblingListeners.has(r)||a.nonBubblingListeners.set(r,new Map);var g=a.nonBubblingListeners.get(r);if(!g)return;g.set(s,{sub:w,destination:o}),s.subs=be({},y,(f={},f[r]=w,f))}})}}},e.prototype.resetEventListeners=function(){for(var t=this.domListeners.entries(),r=t.next();!r.done;){var n=r.value,o=n[0],i=n[1],a=i.sub,s=i.passive;a.unsubscribe(),this.setupDOMListener(o,s),r=t.next()}},e.prototype.putNonBubblingListener=function(t,r,n,o){var i=this.nonBubblingListeners.get(t);if(!!i){var a=i.get(r);a&&a.destination.passive===o&&a.destination.useCapture===n&&(this.virtualNonBubblingListener[0]=a.destination)}},e.prototype.onEvent=function(t,r,n,o){o===void 0&&(o=!0);var i=this.patchEvent(r),a=this.isolateModule.getRootElement(r.target);if(o){var s=this.isolateModule.getNamespace(r.target);if(!s)return;var f=this.getVirtualListeners(t,s);this.bubble(t,r.target,a,i,f,s,s.length-1,!0,n),this.bubble(t,r.target,a,i,f,s,s.length-1,!1,n)}else this.putNonBubblingListener(t,r.target,!0,n),this.doBubbleStep(t,r.target,a,i,this.virtualNonBubblingListener,!0,n),this.putNonBubblingListener(t,r.target,!1,n),this.doBubbleStep(t,r.target,a,i,this.virtualNonBubblingListener,!1,n),r.stopPropagation()},e.prototype.bubble=function(t,r,n,o,i,a,s,f,y){!f&&!o.propagationHasBeenStopped&&this.doBubbleStep(t,r,n,o,i,f,y);var w=n,g=s;if(r===n)if(s>=0&&a[s].type==="sibling")w=this.isolateModule.getElement(a,s),g--;else return;r.parentNode&&w&&this.bubble(t,r.parentNode,w,o,i,a,g,f,y),f&&!o.propagationHasBeenStopped&&this.doBubbleStep(t,r,n,o,i,f,y)},e.prototype.doBubbleStep=function(t,r,n,o,i,a,s){!n||(this.mutateEventCurrentTarget(o,r),i.forEach(function(f){if(f.passive===s&&f.useCapture===a){var y=Nn(f.scopeChecker.namespace);!o.propagationHasBeenStopped&&f.scopeChecker.isDirectlyInScope(r)&&(y!==""&&r.matches(y)||y===""&&r===n)&&(Pn(o,f.preventDefault),f.subject.shamefullySendNext(o))}}))},e.prototype.patchEvent=function(t){var r=t;r.propagationHasBeenStopped=!1;var n=r.stopPropagation;return r.stopPropagation=function(){n.call(this),this.propagationHasBeenStopped=!0},r},e.prototype.mutateEventCurrentTarget=function(t,r){try{Object.defineProperty(t,"currentTarget",{value:r,configurable:!0})}catch{console.log("please use event.ownerTarget")}t.ownerTarget=r},e}();function ws(e){if(!Array.isArray(e))throw new Error("Optional modules option must be an array for snabbdom modules")}function Ss(e){if(!e||typeof e.addListener!="function"||typeof e.fold!="function")throw new Error("The DOM driver function expects as input a Stream of virtual DOM elements")}function Os(e){return et.merge(e,et.never())}function As(e){return e.elm}function Es(e){(console.error||console.log)(e)}function Ps(){return et.create({start:function(e){document.readyState==="loading"?document.addEventListener("readystatechange",function(){var t=document.readyState;(t==="interactive"||t==="complete")&&(e.next(null),e.complete())}):(e.next(null),e.complete())},stop:function(){}})}function Ns(e){return e.data=e.data||{},e.data.isolate=[],e}function Cs(e,t){t===void 0&&(t={}),ss(e);var r=t.modules||ys;ws(r);var n=new ms,o=t&&t.snabbdomOptions||void 0,i=La([n.createModule()].concat(r),void 0,o),a=Ps(),s,f,y=et.create({start:function(g){f=new MutationObserver(function(){return g.next(null)})},stop:function(){f.disconnect()}});function w(g,O){O===void 0&&(O="DOM"),Ss(g);var _=et.create(),l=a.map(function(){var b=us(e)||document.body;return s=new vs(b),b}),u=g.remember();u.addListener({}),y.addListener({});var v=l.map(function(b){return et.merge(u.endWhen(_),_).map(function(A){return s.call(A)}).startWith(Ns(He(b))).fold(i,He(b)).drop(1).map(As).startWith(b).map(function(A){return f.observe(A,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0}),A}).compose(Os)}).flatten(),c=vn(a,y).endWhen(_).compose(ds(v)).map(function(b){return b[1]}).remember();c.addListener({error:t.reportSnabbdomError||Es});var E=new bs(c,n);return new Mn(c,_,[],n,E,O)}return w}var Le="___",Rn=function(){function e(t){this._mockConfig=t,t.elements?this._elements=t.elements:this._elements=lt(et.empty())}return e.prototype.elements=function(){var t=this._elements;return t._isCycleSource="MockedDOM",t},e.prototype.element=function(){var t=this.elements().filter(function(n){return n.length>0}).map(function(n){return n[0]}).remember(),r=lt(t);return r._isCycleSource="MockedDOM",r},e.prototype.events=function(t,r,n){var o=this._mockConfig[t],i=lt(o||et.empty());return i._isCycleSource="MockedDOM",i},e.prototype.select=function(t){var r=this._mockConfig[t]||{};return new e(r)},e.prototype.isolateSource=function(t,r){return t.select("."+Le+r)},e.prototype.isolateSink=function(t,r){return lt(et.fromObservable(t).map(function(n){return n.sel&&n.sel.indexOf(Le+r)!==-1||(n.sel+="."+Le+r),n}))},e}();function $s(e){return new Rn(e)}function Is(e){return typeof e=="string"&&e.length>0}function Ln(e){return Is(e)&&(e[0]==="."||e[0]==="#")}function Ee(e){return function(r,n,o){var i=typeof r!="undefined",a=typeof n!="undefined",s=typeof o!="undefined";return Ln(r)?a&&s?wt(e+r,n,o):a?wt(e+r,n):wt(e+r,{}):s?wt(e+r,n,o):a?wt(e,r,n):i?wt(e,r):wt(e,{})}}var Fn=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","colorProfile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotlight","feTile","feTurbulence","filter","font","fontFace","fontFaceFormat","fontFaceName","fontFaceSrc","fontFaceUri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missingGlyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Bn=Ee("svg");Fn.forEach(function(e){Bn[e]=Ee(e)});var qn=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","meta","nav","noscript","object","ol","optgroup","option","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","u","ul","video"],P={SVG_TAG_NAMES:Fn,TAG_NAMES:qn,svg:Bn,isSelector:Ln,createTagFunction:Ee};qn.forEach(function(e){P[e]=Ee(e)});var Ms=P.svg,Ts=P.a,Ds=P.abbr,ks=P.address,xs=P.area,js=P.article,Rs=P.aside,Ls=P.audio,Fs=P.b,Bs=P.base,qs=P.bdi,Ws=P.bdo,Us=P.blockquote,Gs=P.body,Hs=P.br,zs=P.button,Ks=P.canvas,Js=P.caption,Ys=P.cite,Vs=P.code,Xs=P.col,Zs=P.colgroup,Qs=P.dd,tu=P.del,eu=P.dfn,ru=P.dir,nu=P.div,ou=P.dl,iu=P.dt,au=P.em,su=P.embed,uu=P.fieldset,lu=P.figcaption,cu=P.figure,fu=P.footer,pu=P.form,du=P.h1,hu=P.h2,vu=P.h3,yu=P.h4,mu=P.h5,gu=P.h6,_u=P.head,bu=P.header,wu=P.hgroup,Su=P.hr,Ou=P.html,Au=P.i,Eu=P.iframe,Pu=P.img,Nu=P.input,Cu=P.ins,$u=P.kbd,Iu=P.keygen,Mu=P.label,Tu=P.legend,Du=P.li,ku=P.link,xu=P.main,ju=P.map,Ru=P.mark,Lu=P.menu,Fu=P.meta,Bu=P.nav,qu=P.noscript,Wu=P.object,Uu=P.ol,Gu=P.optgroup,Hu=P.option,zu=P.p,Ku=P.param,Ju=P.pre,Yu=P.progress,Vu=P.q,Xu=P.rp,Zu=P.rt,Qu=P.ruby,tl=P.s,el=P.samp,rl=P.script,nl=P.section,ol=P.select,il=P.small,al=P.source,sl=P.span,ul=P.strong,ll=P.style,cl=P.sub,fl=P.sup,pl=P.table,dl=P.tbody,hl=P.td,vl=P.textarea,yl=P.tfoot,ml=P.th,gl=P.thead,_l=P.title,bl=P.tr,wl=P.u,Sl=P.ul,Ol=P.video,Al=Object.freeze(Object.defineProperty({__proto__:null,svg:Ms,a:Ts,abbr:Ds,address:ks,area:xs,article:js,aside:Rs,audio:Ls,b:Fs,base:Bs,bdi:qs,bdo:Ws,blockquote:Us,body:Gs,br:Hs,button:zs,canvas:Ks,caption:Js,cite:Ys,code:Vs,col:Xs,colgroup:Zs,dd:Qs,del:tu,dfn:eu,dir:ru,div:nu,dl:ou,dt:iu,em:au,embed:su,fieldset:uu,figcaption:lu,figure:cu,footer:fu,form:pu,h1:du,h2:hu,h3:vu,h4:yu,h5:mu,h6:gu,head:_u,header:bu,hgroup:wu,hr:Su,html:Ou,i:Au,iframe:Eu,img:Pu,input:Nu,ins:Cu,kbd:$u,keygen:Iu,label:Mu,legend:Tu,li:Du,link:ku,main:xu,map:ju,mark:Ru,menu:Lu,meta:Fu,nav:Bu,noscript:qu,object:Wu,ol:Uu,optgroup:Gu,option:Hu,p:zu,param:Ku,pre:Ju,progress:Yu,q:Vu,rp:Xu,rt:Zu,ruby:Qu,s:tl,samp:el,script:rl,section:nl,select:ol,small:il,source:al,span:sl,strong:ul,style:ll,sub:cl,sup:fl,table:pl,tbody:dl,td:hl,textarea:vl,tfoot:yl,th:ml,thead:gl,title:_l,tr:bl,u:wl,ul:Sl,video:Ol,thunk:ts,MainDOMSource:Mn,makeDOMDriver:Cs,mockDOMSource:$s,MockedDOMSource:Rn,h:wt},Symbol.toStringTag,{value:"Module"})),Wn=we(Al),Un={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=n(st),r=Ae;function n(i){return i&&i.__esModule?i:{default:i}}function o(i){var a=new EventTarget;return i.subscribe({next:function(f){return a.dispatchEvent(new CustomEvent("data",{detail:f}))}}),{select:function(f){var y=!f,w=Array.isArray(f)?f:[f],g,O=t.default.create({start:function(l){g=function(v){var c=v.detail,E=c&&c.data||null;(y||w.includes(c.type))&&l.next(E)},a.addEventListener("data",g)},stop:function(l){return a.removeEventListener("data",g)}});return(0,r.adapt)(O)}}}})(Un);var Gn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){r.addListener({next:function(o){console.log(o)}})}})(Gn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=w;var t=va,r=Qe,n=Wn,o=a(Un),i=a(Gn);function a(g){return g&&g.__esModule?g:{default:g}}function s(g,O){var _=Object.keys(g);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(g);O&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(g,u).enumerable})),_.push.apply(_,l)}return _}function f(g){for(var O=1;O<arguments.length;O++){var _=arguments[O]!=null?arguments[O]:{};O%2?s(Object(_),!0).forEach(function(l){y(g,l,_[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(_)):s(Object(_)).forEach(function(l){Object.defineProperty(g,l,Object.getOwnPropertyDescriptor(_,l))})}return g}function y(g,O,_){return O in g?Object.defineProperty(g,O,{value:_,enumerable:!0,configurable:!0,writable:!0}):g[O]=_,g}function w(g){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=(0,r.withState)(g,"STATE"),l={EVENTS:o.default,DOM:(0,n.makeDOMDriver)("#root"),LOG:i.default},u=f(f({},l),O);return(0,t.run)(_,u)}})(bn);var Hn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=O;function t(c,E){return o(c)||n(c,E)||f(c,E)||r()}function r(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(c,E){var b=c==null?null:typeof Symbol!="undefined"&&c[Symbol.iterator]||c["@@iterator"];if(b!=null){var A=[],$=!0,p=!1,m,S;try{for(b=b.call(c);!($=(m=b.next()).done)&&(A.push(m.value),!(E&&A.length===E));$=!0);}catch(M){p=!0,S=M}finally{try{!$&&b.return!=null&&b.return()}finally{if(p)throw S}}return A}}function o(c){if(Array.isArray(c))return c}function i(c){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},i(c)}function a(c){return w(c)||y(c)||f(c)||s()}function s(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(c,E){if(!!c){if(typeof c=="string")return g(c,E);var b=Object.prototype.toString.call(c).slice(8,-1);if(b==="Object"&&c.constructor&&(b=c.constructor.name),b==="Map"||b==="Set")return Array.from(c);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return g(c,E)}}function y(c){if(typeof Symbol!="undefined"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}function w(c){if(Array.isArray(c))return g(c)}function g(c,E){(E==null||E>c.length)&&(E=c.length);for(var b=0,A=new Array(E);b<E;b++)A[b]=c[b];return A}function O(){for(var c=arguments.length,E=new Array(c),b=0;b<c;b++)E[b]=arguments[b];return E.reduce(function(A,$){return typeof $=="string"&&!A.includes($)?A.push.apply(A,a(l($))):Array.isArray($)?A.push.apply(A,a(u($))):i($)==="object"&&A.push.apply(A,a(v($))),A},[]).join(" ")}function _(c){return/^[a-zA-Z0-9-_]+$/.test(c)}function l(c){if(typeof c!="string")throw new Error("Class name must be a string");return c.trim().split(" ").reduce(function(E,b){if(b.trim().length===0)return E;if(!_(b))throw new Error("".concat(b," is not a valid CSS class name"));return E.push(b),E},[])}function u(c){return c.map(l).flat()}function v(c){var E=Object.entries(c).filter(function(b){var A=t(b,2);A[0];var $=A[1];return typeof $=="function"?$():!!$}).map(function(b){var A=t(b,2),$=A[0];A[1];var p=$.trim();if(!_(p))throw new Error("".concat(p," is not a valid CSS class name"));return p});return E}})(Hn);(function(e){function t(l){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},t(l)}Object.defineProperty(e,"__esModule",{value:!0});var r={component:!0,ABORT:!0,collection:!0,switchable:!0,processForm:!0,run:!0,classes:!0,xs:!0};Object.defineProperty(e,"ABORT",{enumerable:!0,get:function(){return n.ABORT}}),Object.defineProperty(e,"classes",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"collection",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"component",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"processForm",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"run",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"switchable",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"xs",{enumerable:!0,get:function(){return w.default}});var n=_(zr),o=g(Xe),i=g(gn),a=g(_n),s=g(bn),f=g(Hn),y=Wn;Object.keys(y).forEach(function(l){l==="default"||l==="__esModule"||Object.prototype.hasOwnProperty.call(r,l)||l in e&&e[l]===y[l]||Object.defineProperty(e,l,{enumerable:!0,get:function(){return y[l]}})});var w=g(st);function g(l){return l&&l.__esModule?l:{default:l}}function O(l){if(typeof WeakMap!="function")return null;var u=new WeakMap,v=new WeakMap;return(O=function(E){return E?v:u})(l)}function _(l,u){if(!u&&l&&l.__esModule)return l;if(l===null||t(l)!=="object"&&typeof l!="function")return{default:l};var v=O(u);if(v&&v.has(l))return v.get(l);var c={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in l)if(b!=="default"&&Object.prototype.hasOwnProperty.call(l,b)){var A=E?Object.getOwnPropertyDescriptor(l,b):null;A&&(A.get||A.set)?Object.defineProperty(c,b,A):c[b]=l[b]}return c.default=l,v&&v.set(l,c),c}})(pt);var ve=Object.prototype.hasOwnProperty,zn=Object.prototype.toString,Dr=Object.defineProperty,kr=Object.getOwnPropertyDescriptor,xr=function(t){return typeof Array.isArray=="function"?Array.isArray(t):zn.call(t)==="[object Array]"},jr=function(t){if(!t||zn.call(t)!=="[object Object]")return!1;var r=ve.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&ve.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var o;for(o in t);return typeof o=="undefined"||ve.call(t,o)},Rr=function(t,r){Dr&&r.name==="__proto__"?Dr(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},Lr=function(t,r){if(r==="__proto__")if(ve.call(t,r)){if(kr)return kr(t,r).value}else return;return t[r]},Kn=function e(){var t,r,n,o,i,a,s=arguments[0],f=1,y=arguments.length,w=!1;for(typeof s=="boolean"&&(w=s,s=arguments[1]||{},f=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});f<y;++f)if(t=arguments[f],t!=null)for(r in t)n=Lr(s,r),o=Lr(t,r),s!==o&&(w&&o&&(jr(o)||(i=xr(o)))?(i?(i=!1,a=n&&xr(n)?n:[]):a=n&&jr(n)?n:{},Rr(s,{name:r,newValue:e(w,a,o)})):typeof o!="undefined"&&Rr(s,{name:r,newValue:o}));return s},El=function(e){return e===void 0},Pl=function(e){return typeof e=="number"},Nl=function(e){return typeof e=="string"},Jn=function(e){return Nl(e)||Pl(e)},Cl=function(e){return Array.isArray(e)},$l=function(e){return typeof e=="object"&&e!==null},Il=function(e){return typeof e=="function"},Ml=function(e){return $l(e)&&"sel"in e&&"data"in e&&"children"in e&&"text"in e},Tl={svg:1,circle:1,ellipse:1,line:1,polygon:1,polyline:1,rect:1,g:1,path:1,text:1},Dl=function(e){return e.sel in Tl},Ke=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Kn.apply(void 0,[!0].concat(e))},kl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Kn.apply(void 0,[!1].concat(e))},Yn=function(e,t,r){for(var n=r,o=0;o<e.length;o++){var i=e[o];Cl(i)?n=Yn(i,t,n):n=t(n,i)}return n},or=function(e,t){return Object.keys(e).map(function(r){return t(r,e[r])}).reduce(function(r,n){return Ke(r,n)},{})},xl=function(e,t){return or(e,function(r,n){var o=r.indexOf("-");if(o>-1&&t[r.slice(0,o)]!==void 0){var i={};return i[r.slice(o+1)]=n,a={},a[r.slice(0,o)]=i,a;var a}return s={},s[r]=n,s;var s})},Fr=function(e,t){return or(t,function(r,n){return r!==e?(o={},o[r]=n,o):{};var o})},jl=function(e){return Jn(e)?{text:e,sel:void 0,data:void 0,children:void 0,elm:void 0,key:void 0}:void 0},ir=function(e){return Dl(e)?kl(e,{data:Fr("props",Ke(e.data,{ns:"http://www.w3.org/2000/svg",attrs:Fr("className",Ke(e.data.props,{class:e.data.props?e.data.props.className:void 0}))}))},{children:El(e.children)?void 0:e.children.map(function(t){return ir(t)})}):e},Rt={for:"attrs",role:"attrs",tabindex:"attrs","aria-*":"attrs",key:null},Rl=function(e,t){return or(e,function(r,n){var o={};if(o[r]=n,Rt[r]&&t[Rt[r]]!==void 0){return i={},i[Rt[r]]=o,i;var i}if(Rt[r]===null)return{};for(var a=Object.keys(Rt),s=0;s<a.length;s++){var f=a[s];if(f.charAt(f.length-1)==="*"&&r.indexOf(f.slice(0,-1))===0&&t[Rt[f]]!==void 0){return y={},y[Rt[f]]=o,y;var y}}if(t[r]!==void 0){return w={},w[t[r]?t[r]:r]=n,w;var w}return t.props!==void 0?{props:o}:o})},Ll=function(e,t){return ir(Rl(xl(e,t),t))},Fl=function(e){return e.length>1||!Jn(e[0])?void 0:e[0]},Bl=function(e){return Yn(e,function(t,r){var n=Ml(r)?r:jl(r);return t.push(n),t},[])},ql={attrs:"",props:"",class:"",data:"dataset",style:"",hook:"",on:""},Vn=function(e){return function(t,r){for(var n=[],o=arguments.length-2;o-- >0;)n[o]=arguments[o+2];if(Il(t))return t(r||{},n);var i=Fl(n);return ir({sel:t,data:r?Ll(r,e):{},children:i?void 0:Bl(n),text:i,elm:void 0,key:r?r.key:void 0})}},Wl=Vn(ql),X={createElement:Wl,createElementWithModules:Vn};const Ul={0:"1111110",1:"0110000",2:"1101101",3:"1111001",4:"0110011",5:"1011011",6:"1011111",7:"1110000",8:"1111111",9:"1111011","-":"0000001",".":"0000000"};var Gl=pt.component({name:"DIGIT",calculated:{segments:e=>Ul[e.digit].split("").map(t=>t==="1")},view:({state:e})=>{let{digit:t,segments:r,fill:n,background:o,padding:i,skew:a,transition:s,id:f}=e;if(i||(i="0.1em"),o||(o="transparent"),t===".")return X.createElement("span",{style:{fontSize:`calc(1em + ${i} * 2)`,color:n}},".");const y=g=>pt.classes("segment",`segment-${g}`,{on:r[g]}),w={fill:n,transition:s};return X.createElement("div",{className:"digit",style:{height:"1em",backgroundColor:o,padding:i,transform:`skew(${a||"0"})`},id:f},X.createElement("svg",{style:{height:"1em"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 292.06 585.99"},X.createElement("defs",null,X.createElement("style",null,`
              .segment {opacity: 0.1;}
              .segment.on {opacity: 1;}
            `)),X.createElement("polygon",{style:w,className:y(0),points:"230.47 58.07 61.27 58.23 61.27 58.07 32.39 29.04 61.27 0.15 230.47 0 259.36 29.04 230.47 57.92 230.47 58.07"}),X.createElement("polygon",{style:w,className:y(1),points:"292.06 61.95 292.06 259.88 291.9 259.88 262.87 288.76 233.98 259.88 233.98 61.95 263.02 33.07 291.9 61.95 292.06 61.95"}),X.createElement("polygon",{style:w,className:y(2),points:"292.06 325.72 292.06 523.65 291.9 523.65 262.87 552.52 233.98 523.65 233.98 325.72 263.02 296.83 291.9 325.72 292.06 325.72"}),X.createElement("polygon",{style:w,className:y(3),points:"230.47 585.84 61.27 585.99 61.27 585.84 32.39 556.8 61.27 527.92 230.47 527.76 259.36 556.8 230.47 585.68 230.47 585.84"}),X.createElement("polygon",{style:w,className:y(4),points:"58.07 325.72 58.07 523.65 57.92 523.65 28.89 552.52 0 523.65 0 325.72 29.04 296.83 57.92 325.72 58.07 325.72"}),X.createElement("polygon",{style:w,className:y(5),points:"58.07 61.95 58.07 259.88 57.92 259.88 28.89 288.76 0 259.88 0 61.95 29.04 33.07 57.92 61.95 58.07 61.95"}),X.createElement("polygon",{style:w,className:y(6),points:"230.47 321.75 61.27 321.9 61.27 321.75 32.39 292.72 61.27 263.83 230.47 263.68 259.36 292.72 230.47 321.59 230.47 321.75"})))}});const Br={"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,x:(e,t)=>e*t},qr=["1","2","3","4","5","6","7","8","9","0"],Wr=["/","x","-","+"],Hl="AC",zl="+/-",Ur="%",Gr=".",Hr="=",Lt="num",Fe="op",Ft="eq";var Kl=pt.component({name:"CALCULATOR",initialState:{display:"",register:"",mode:Lt,operation:null},calculated:{displayFloat:e=>{const t=parseFloat(e.display);return isNaN(t)?"":t},registerFloat:e=>{const t=parseFloat(e.register);return isNaN(t)?"":t}},model:{NUMBER_INPUT:(e,t)=>{if(t==="0"&&e.display==="0")return pt.ABORT;const r=e.mode===Lt?e.display:"",n=e.mode!==Ft?e.register:"",o=e.mode!==Ft?e.operation:"",i=r+t;return bt(_t({},e),{display:i,register:n,operation:o,mode:Lt})},ADD_DECIMAL:(e,t)=>{if(e.mode===Ft)return bt(_t({},e),{display:"0.",register:"",operation:null,mode:Lt});if(e.display.includes("."))return pt.ABORT;if(e.display==="")return bt(_t({},e),{mode:Lt,display:"0."});const r=e.display+".";return bt(_t({},e),{display:r})},RUN_CALC:e=>{if(!e.operation||e.display==="")return pt.ABORT;let t,r,n;e.mode===Ft?(t=e.register,r=e.displayFloat,n=e.registerFloat):(t=e.display,r=e.registerFloat,n=e.displayFloat);const o=Br[e.operation](r,n).toString();return bt(_t({},e),{display:o,register:t,mode:Ft})},SET_OPERATOR:(e,t)=>{if(e.mode!==Fe&&e.display==="")return pt.ABORT;const n=e.mode==Lt&&e.operation?Br[e.operation](e.registerFloat,e.displayFloat).toString():e.display;if(e.mode===Fe&&e.display==="")return bt(_t({},e),{operation:t});const o="";return bt(_t({},e),{display:o,register:n,mode:Fe,operation:t})},CLEAR_ALL:(e,t)=>({display:"",register:"",mode:Lt,operation:null}),SWITCH_SIGN:(e,t)=>bt(_t({},e),{display:e.display[0]==="-"?e.display.slice(1):"-"+e.display}),MAKE_PERCENT:(e,t)=>bt(_t({},e),{display:(e.displayFloat/100).toString()})},intent:({DOM:e})=>{const t=O=>_=>_.target.dataset[O],r=O=>e.select(O).events("click").map(t("value")),n=e.select("document").events("keydown").map(O=>O.key),o=O=>_=>O.includes(_),i=n.filter(o(qr)),a=n.filter(o([Gr])),s=n.filter(o([Hr,"Enter"])),f=n.filter(o([...Wr,"*"])).map(O=>O==="*"?"x":O),y=n.filter(o(["Backspace"])),w=n.filter(o(["~"])),g=n.filter(o([Ur]));return{NUMBER_INPUT:pt.xs.merge(r(".number"),i),ADD_DECIMAL:pt.xs.merge(r(".decimal"),a),RUN_CALC:pt.xs.merge(r(".equal"),s),SET_OPERATOR:pt.xs.merge(r(".operator"),f),CLEAR_ALL:pt.xs.merge(r(".clear"),y),SWITCH_SIGN:pt.xs.merge(r(".sign"),w),MAKE_PERCENT:pt.xs.merge(r(".percent"),g)}},components:{digit:Gl},view:({state:e})=>{const{display:t,register:r,operation:n,mode:o}=e,i=w=>X.createElement("div",{className:"button number","data-value":`${w}`},w," "),a=w=>X.createElement("div",{className:"button operator","data-value":w},w," "),s=o===Ft?" ":r.split("").slice(0,10).map((w,g)=>X.createElement("digit",{digit:w,fill:"#999",skew:"-7deg",transition:"100ms",id:"reg"+(10-r.length+g)})),f=o===Ft?" ":n,y=t.split("").slice(0,10).map((w,g)=>X.createElement("digit",{digit:w,fill:"#AAA",skew:"-7deg",transition:"100ms",id:"disp"+(10-t.length+g)}))||" ";return X.createElement("div",{className:"calculator"},X.createElement("div",{className:"display"},X.createElement("div",{className:"previous"},s,X.createElement("span",{className:"operation"},f)),X.createElement("div",{className:"current-container"},y)),X.createElement("div",{className:"keypad"},X.createElement("div",{className:"numbers"},X.createElement("div",{className:"button clear"},Hl),X.createElement("div",{className:"button sign"},zl),X.createElement("div",{className:"button percent"},Ur),qr.map(i),X.createElement("div",{className:"button decimal"},Gr)),X.createElement("div",{className:"operators"},Wr.map(a),X.createElement("div",{className:"button equal"},Hr))))}});pt.run(Kl);
